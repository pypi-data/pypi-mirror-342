[tox]
envlist = py{38,39,310,311,312}


[coverage:run]
omit = 


[testenv]
deps = 
	-rrequirements.txt
	-rdev-requirements.txt
setenv =
	SHOW_DEPRECATION_WARNINGS = true

commands =
	coverage run --source pytos2 -m pytest -x -W ignore::UserWarning
	  coverage report -m
install_command=pip install {opts} {packages}


[testenv:coverage]
envlist = py311
deps = 
	-rrequirements.txt
	-rdev-requirements.txt

commands =
	coverage report -m
install_command=pip install {opts} {packages}


[testenv:typecheck]
envlist = py311
deps = 
	mypy
	types-requests
	-rrequirements.txt
	-rdev-requirements.txt

commands =
	mypy pytos2 --explicit-package-bases
install_command=pip install {opts} {packages}
