[build-system]
build-backend = "hatchling.build"
requires = [
  "hatch-vcs>=0.4",
  "hatchling>=1.25",
]

[project]
name = "django-strategy-field"
description = "custom fields useful to implement the Strategy Pattern with Django models."
readme = "README.md"
license.file = "LICENSE"
authors = [
  { name = "sax", email = "s.apostolico@gmail.com" },
]
requires-python = ">=3.8"

classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Environment :: Web Environment",
  "Framework :: Django :: 3.2",
  "Framework :: Django :: 4.2",
  "Framework :: Django :: 5.2",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Topic :: Software Development :: Libraries :: Application Frameworks",
  "Topic :: Software Development :: Libraries :: Python Modules",
]

dynamic = [ "version" ]
urls.downloads = "https://github.com/saxix/django-strategy-field"
urls.homepage = "https://github.com/saxix/django-strategy-field"

[dependency-groups]
dev = [
  "django-stubs>=5.1.3",
  "django-webtest>=1.9.13",
  "djangorestframework",
  "factory-boy>=3.3.3",
  "mypy>=1.14.1",
  "pdbpp>=0.10.3",
  "pre-commit",
  "pyquery>=2.0.1",
  "pytest>=8.3.5",
  "pytest-coverage>=0",
  "pytest-django>=4.11.1",
  "pytest-echo>=2",
  "ruff>=0.11.3",
  "tox",
]

[tool.distutils.bdist_wheel]
universal = 1

[tool.distutils.egg_info]
tag-build = ""
tag-date = 0
tag-svn-revision = 0

[tool.hatch]
build.hooks.vcs.version-file = "src/strategy_field/version.py"
version.source = "vcs"
raw-options = { root = "../.." }

[tool.hatch.build.targets.sdist]
ignore-vcs = true
include = [
  "src/strategy_field/**/*.*",
]

[tool.hatch.build.targets.wheel]
packages = [ "src/strategy_field" ]

[tool.ruff]
target-version = "py38"
line-length = 120
exclude = [
  "docs",
  "manage.py",
  "tests",
]
format.preview = true
format.docstring-code-line-length = 120
format.docstring-code-format = true
lint.select = [
  "ALL",
]
lint.ignore = [
  "ANN401",
  "ARG002",
  "COM812",
  "D",
  "EM",
  "FBT",
  "RET503",
  "TID",
  "TRY",
]
lint.per-file-ignores."src/strategy_field/version.py" = [
  "ALL",
]
lint.per-file-ignores."tests/**/*.py" = [
  "ANN",
  "ARG",
  "DJ",
  "E",
  "INP",
  "PLR2004",
  "PLW",
  "PT",
  "RUF012",
  "S",
  "S101",
  "SLF001",
  "UP",
]

[tool.check-manifest]
ignore = """
Makefile
*.sqlite
.tox/*
"""

[tool.uv]
package = true
