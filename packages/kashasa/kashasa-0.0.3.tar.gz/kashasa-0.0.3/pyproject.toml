[build-system]
build-backend = "setuptools.build_meta"
requires = [
  "setuptools"
]

[dependency-groups]
build = [
  "setuptools"
]
dev = [
  "faker>=37.1.0",
  "pipdeptree>=2.26.0",
  "pre-commit>=4.2.0",
  "pytest-asyncio>=0.26.0",
  "pytest>=8.3.5",
  "rich>=13.9.4",
  "ruff>=0.11.2",
  "tomli>=2.2.1",
  "tomli_w>=1.2.0",
  "uv-publish>=1.2.0"
]
docs = [
  "sphinx>=8.1.3",
  "sphinx-rtd-theme>=3.0.2",
  "sphinx-autodoc-typehints>=2.5.0",
  "sphinx-rtd-dark-mode>=1.3.0"
]

[project]
authors = [
  {name = "Alex Kalaverin", email = "alex@kalaver.in"}
]
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Intended Audience :: Developers",
  "Topic :: Software Development :: Libraries :: Python Modules",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "License :: OSI Approved :: BSD License",
  "Operating System :: OS Independent"
]
dependencies = [
  "construct>=2.10.70",
  "hiredis>=3.1.0",
  "kalib>=0.21.23",
  "lz4>=4.4.3",
  "orjson>=3.10.16",
  "pydantic>=2.10.6",
  "pymongo>=4.11.3",
  "redis>=5.2.1",
  "vedis>=0.7.2",
  "xxhash>=3.5.0",
  "zstd>=1.5.6.6"
]
description = ""
keywords = [
  "decorators",
  "descriptors",
  "serialization"
]
name = "kashasa"
readme = "README.md"
requires-python = ">=3.10"
version = "0.0.3"

[project.license]
text = "BSD License"

[project.optional-dependencies]
full = [
  "lmdb>=1.6.2",
  "plyvel>=1.5.1",
  "rocksdb-py"
]

[tool.black]
extend = "ci/pyproject.toml"

[tool.mypy]
ignore_missing_imports = true

[tool.ruff]
extend = "ci/pyproject.toml"

[tool.ruff.lint.isort]
known-first-party = [
  "kashasa"
]
known-third-party = [
  "kalib"
]

[tool.setuptools]
packages = [
  "kashasa"
]

[tool.setuptools.package-dir]
"" = "src"

[tool.uv]
default-groups = [
  "dev",
  "docs"
]
index-strategy = "unsafe-best-match"
package = true

[tool.uv.sources.rocksdb-py]
git = "https://github.com/trK54Ylmz/rocksdb-py.git"

[tool.yamlfix]
line_length = 89
preserve_quotes = false
quote_basic_values = false
quote_representation = "'"
section_whitelines = 1
sequence_style = "block_style"
whitelines = 1
