function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./BuilderSelect-DdIdCGqL.js","./index-ChhimAZ-.js","./index-_4WEo7c5.css","./floating-ui.vue-BNompikD.js","./BuilderSelect-CLys9Luh.css","./BuilderGraphSelect--rNtXI5Z.js","./useListResources-GOaOUbdv.js","./BuilderApp-CNfRViSf.js","./BaseTransitionSlideFade-Cz5sXvu2.js","./BaseTransitionSlideFade-D8wg9qv6.css","./marked.esm-273vDTCT.js","./BuilderApp-BGEFsTLM.css","./BuilderGraphSelect-Fouc8w1n.css","./BuilderEmbeddedCodeEditor-BHgw0NGA.js","./BuilderEmbeddedCodeEditor-DiDqfWdt.css","./BuilderApplicationSelect-C8rG6DXh.js","./BuilderApplicationSelect-Ct6ZxDEC.css","./BuilderSettingsHandlers-BX8yJpMc.js","./useBlueprintRun-4XdGdDyn.js","./BuilderSettingsHandlers-CYz-19-A.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as q,i as L,a as W,c as x,r as H,w as xe,m as ye,o as v,e as w,M as _,b as T,s as D,f as S,W as X,U as C,a6 as _e,al as Me,q as V,y as Z,z as ve,t as Y,T as Oe,A as Ve,V as ee,_ as U,O as ft,ag as mt,ae as re,x as ie,n as Ce,ax as ht,H as ce,E as Te,ay as yt,az as gt,k as z,aA as te,aB as we,ab as le,L as se,aa as Ye,u as nt,v as $e,aC as Le,a9 as _t,aD as bt,aE as kt,aF as G,aG as It,aH as St,aI as Et,aJ as Ct,F as de,ai as xt}from"./index-ChhimAZ-.js";import{p as wt}from"./instancePath-BsbOTTI8.js";import{B as be}from"./BuilderApp-CNfRViSf.js";import{u as Bt}from"./useComponentDescription-D9BXN1-Y.js";import{B as Ge}from"./BuilderEmbeddedCodeEditor-BHgw0NGA.js";import"./BaseTransitionSlideFade-Cz5sXvu2.js";import"./marked.esm-273vDTCT.js";const $t=["data-writer-id"],At={id:"validChildrenTypes"},Mt=["value"],Tt=q({__name:"BuilderSettingsActions",setup(n){const e=L(W.core),t=L(W.builderManager),{createAndInsertComponent:s,moveComponentUp:o,moveComponentDown:l,cutComponent:i,pasteComponent:a,copyComponent:d,isAddAllowed:r,isCopyAllowed:m,isCutAllowed:y,isGoToParentAllowed:E,isPasteAllowed:u,isDeleteAllowed:f,getEnabledMoves:k,removeComponentsSubtree:b,goToParent:g}=ee(e,t);function I(){if(!F.value.isDeleteEnabled)return;const c=t.selection.value.map(p=>p.componentId);c.length!==0&&b(...c)}const B=t.firstSelectedId,O=x(()=>{var c;return(c=t.firstSelectedItem.value)==null?void 0:c.instancePath}),M=H(!1),F=H(null),R=x(()=>{const c=e.getContainableTypes(B.value),p={};return c.map(h=>{const j=e.getComponentDefinition(h);p[h]=j}),p});function $(c){const p=c.target.value,h=Object.entries(R.value).filter(([N,J])=>J.name==p);if(h.length==0)return;const j=h[0][0];s(j,B.value),M.value=!1}function A(){var j,N;const c=e.getComponentById(B.value);if(!c)return;const{up:p,down:h}=k(B.value);F.value={isAddEnabled:r(B.value),componentTypeName:(j=e.getComponentDefinition(c.type))==null?void 0:j.name,toolkit:(N=e.getComponentDefinition(c.type))==null?void 0:N.toolkit,isMoveUpEnabled:p,isMoveDownEnabled:h,isCopyEnabled:m(B.value),isCutEnabled:y(B.value),isPasteEnabled:u(B.value),isGoToParentEnabled:E(B.value),isDeleteEnabled:f(B.value)}}return xe(()=>{var c;return(c=e.getComponentById(B.value))==null?void 0:c.position},async c=>{typeof c>"u"||c===null||A()},{flush:"post"}),ye(()=>{A()}),(c,p)=>{var h,j,N,J,Q,Ie,Se,Ee;return v(),w("div",{class:Ve(["BuilderSettingsActions",{collapsed:_(t).isSettingsBarCollapsed.value}]),"data-writer-id":_(B)},[_(t).isSingleSelectionActive.value?(v(),T(X,{key:0,"data-writer-tooltip":"Add child","data-writer-tooltip-placement":"left",variant:"neutral",size:"smallIcon",class:"actionButton",disabled:!((h=F.value)!=null&&h.isAddEnabled),onClick:p[0]||(p[0]=ne=>{var K;return(K=F.value)!=null&&K.isAddEnabled?M.value=!0:void 0})},{default:D(()=>p[9]||(p[9]=[S("i",{class:"material-symbols-outlined"},"add",-1)])),_:1},8,["disabled"])):C("",!0),_(t).isSingleSelectionActive.value?(v(),T(X,{key:1,class:"actionButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":`Move up (${_(_e)()}↑)`,disabled:!((j=F.value)!=null&&j.isMoveUpEnabled),onClick:p[1]||(p[1]=ne=>{var K;return(K=F.value)!=null&&K.isMoveUpEnabled?_(o)(_(B)):void 0})},{default:D(()=>p[10]||(p[10]=[S("i",{class:"material-symbols-outlined"},"arrow_upward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),_(t).isSingleSelectionActive.value?(v(),T(X,{key:2,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Move down (${_(_e)()}↓)`,"data-writer-tooltip-placement":"left",disabled:!((N=F.value)!=null&&N.isMoveDownEnabled),onClick:p[2]||(p[2]=ne=>{var K;return(K=F.value)!=null&&K.isMoveDownEnabled?_(l)(_(B)):void 0})},{default:D(()=>p[11]||(p[11]=[S("i",{class:"material-symbols-outlined"},"arrow_downward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),_(t).isSingleSelectionActive.value?(v(),T(X,{key:3,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Cut (${_(_e)()}X)`,"data-writer-tooltip-placement":"left",disabled:!((J=F.value)!=null&&J.isCutEnabled),onClick:p[3]||(p[3]=ne=>{var K;return(K=F.value)!=null&&K.isCutEnabled?_(i)(_(B)):void 0})},{default:D(()=>p[12]||(p[12]=[S("i",{class:"material-symbols-outlined"},"cut",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),_(t).isSingleSelectionActive.value?(v(),T(X,{key:4,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Copy (${_(_e)()}C)`,"data-writer-tooltip-placement":"left",disabled:!((Q=F.value)!=null&&Q.isCopyEnabled),onClick:p[4]||(p[4]=ne=>{var K;return(K=F.value)!=null&&K.isCopyEnabled?_(d)(_(B)):void 0})},{default:D(()=>p[13]||(p[13]=[S("i",{class:"material-symbols-outlined"},"content_copy",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),_(t).isSingleSelectionActive.value?(v(),T(X,{key:5,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Paste (${_(_e)()}V)`,"data-writer-tooltip-placement":"left",disabled:!((Ie=F.value)!=null&&Ie.isPasteEnabled),onClick:p[5]||(p[5]=ne=>{var K;return(K=F.value)!=null&&K.isPasteEnabled?_(a)(_(B)):void 0})},{default:D(()=>p[14]||(p[14]=[S("i",{class:"material-symbols-outlined"},"content_paste",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),_(t).isSingleSelectionActive.value?(v(),T(X,{key:6,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Go to parent (${_(_e)()}Shift ↑)`,"data-writer-tooltip-placement":"left",disabled:!((Se=F.value)!=null&&Se.isGoToParentEnabled),onClick:p[6]||(p[6]=ne=>{var K;return(K=F.value)!=null&&K.isGoToParentEnabled?_(g)(_(B),O.value):void 0})},{default:D(()=>p[15]||(p[15]=[S("i",{class:"material-symbols-outlined"},"move_up",-1)])),_:1},8,["data-writer-tooltip","disabled"])):C("",!0),_(t).selectionStatus.value===_(Me).Multiple?(v(),T(X,{key:7,class:"actionButton",variant:"neutral",size:"small","data-automation-action":"clear-selection","data-writer-tooltip":"Clear selection","data-writer-tooltip-placement":"left",onClick:p[7]||(p[7]=ne=>_(t).setSelection(null))},{default:D(()=>p[16]||(p[16]=[S("i",{class:"material-symbols-outlined"},"close",-1)])),_:1})):C("",!0),V(X,{class:"actionButton delete",variant:"neutral",size:"small","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:!((Ee=F.value)!=null&&Ee.isDeleteEnabled),onClick:I},{default:D(()=>p[17]||(p[17]=[S("i",{class:"material-symbols-outlined"},"delete",-1)])),_:1},8,["disabled"]),M.value?(v(),T(Oe,{key:8,title:"Add child component","display-close-button":"",onClose:p[8]||(p[8]=ne=>M.value=!1)},{default:D(()=>[S("input",{class:"addModalInput",type:"text",list:"validChildrenTypes",placeholder:"Component...",onChange:$},null,32),S("datalist",At,[(v(!0),w(Z,null,ve(R.value,(ne,K)=>(v(),w("option",{key:K,value:ne.name},Y(ne.name),9,Mt))),128))])]),_:1})):C("",!0)],10,$t)}}}),Ft=U(Tt,[["__scopeId","data-v-15847d91"]]);function pe(n){return Array.isArray?Array.isArray(n):st(n)==="[object Array]"}const Ot=1/0;function Vt(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-Ot?"-0":e}function Rt(n){return n==null?"":Vt(n)}function ue(n){return typeof n=="string"}function ot(n){return typeof n=="number"}function Pt(n){return n===!0||n===!1||Lt(n)&&st(n)=="[object Boolean]"}function lt(n){return typeof n=="object"}function Lt(n){return lt(n)&&n!==null}function oe(n){return n!=null}function Re(n){return!n.trim().length}function st(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Wt="Incorrect 'index' type",jt=n=>`Invalid value for key ${n}`,Dt=n=>`Pattern length exceeds max of ${n}.`,Nt=n=>`Missing ${n} property in key`,qt=n=>`Property 'weight' in key '${n}' must be a positive integer`,He=Object.prototype.hasOwnProperty;class Ut{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(s=>{let o=it(s);this._keys.push(o),this._keyMap[o.id]=o,t+=o.weight}),this._keys.forEach(s=>{s.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function it(n){let e=null,t=null,s=null,o=1,l=null;if(ue(n)||pe(n))s=n,e=Je(n),t=We(n);else{if(!He.call(n,"name"))throw new Error(Nt("name"));const i=n.name;if(s=i,He.call(n,"weight")&&(o=n.weight,o<=0))throw new Error(qt(i));e=Je(i),t=We(i),l=n.getFn}return{path:e,id:t,weight:o,src:s,getFn:l}}function Je(n){return pe(n)?n:n.split(".")}function We(n){return pe(n)?n.join("."):n}function Kt(n,e){let t=[],s=!1;const o=(l,i,a)=>{if(oe(l))if(!i[a])t.push(l);else{let d=i[a];const r=l[d];if(!oe(r))return;if(a===i.length-1&&(ue(r)||ot(r)||Pt(r)))t.push(Rt(r));else if(pe(r)){s=!0;for(let m=0,y=r.length;m<y;m+=1)o(r[m],i,a+1)}else i.length&&o(r,i,a+1)}};return o(n,ue(e)?e.split("."):e,0),s?t:t[0]}const zt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Yt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},Gt={location:0,threshold:.6,distance:100},Ht={useExtendedSearch:!1,getFn:Kt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var P={...Yt,...zt,...Gt,...Ht};const Jt=/[^ ]+/g;function Xt(n=1,e=3){const t=new Map,s=Math.pow(10,e);return{get(o){const l=o.match(Jt).length;if(t.has(l))return t.get(l);const i=1/Math.pow(l,.5*n),a=parseFloat(Math.round(i*s)/s);return t.set(l,a),a},clear(){t.clear()}}}class Ke{constructor({getFn:e=P.getFn,fieldNormWeight:t=P.fieldNormWeight}={}){this.norm=Xt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,s)=>{this._keysMap[t.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ue(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();ue(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,s=this.size();t<s;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!oe(e)||Re(e))return;let s={v:e,i:t,n:this.norm.get(e)};this.records.push(s)}_addObject(e,t){let s={i:t,$:{}};this.keys.forEach((o,l)=>{let i=o.getFn?o.getFn(e):this.getFn(e,o.path);if(oe(i)){if(pe(i)){let a=[];const d=[{nestedArrIndex:-1,value:i}];for(;d.length;){const{nestedArrIndex:r,value:m}=d.pop();if(oe(m))if(ue(m)&&!Re(m)){let y={v:m,i:r,n:this.norm.get(m)};a.push(y)}else pe(m)&&m.forEach((y,E)=>{d.push({nestedArrIndex:E,value:y})})}s.$[l]=a}else if(ue(i)&&!Re(i)){let a={v:i,n:this.norm.get(i)};s.$[l]=a}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function at(n,e,{getFn:t=P.getFn,fieldNormWeight:s=P.fieldNormWeight}={}){const o=new Ke({getFn:t,fieldNormWeight:s});return o.setKeys(n.map(it)),o.setSources(e),o.create(),o}function Qt(n,{getFn:e=P.getFn,fieldNormWeight:t=P.fieldNormWeight}={}){const{keys:s,records:o}=n,l=new Ke({getFn:e,fieldNormWeight:t});return l.setKeys(s),l.setIndexRecords(o),l}function Ae(n,{errors:e=0,currentLocation:t=0,expectedLocation:s=0,distance:o=P.distance,ignoreLocation:l=P.ignoreLocation}={}){const i=e/n.length;if(l)return i;const a=Math.abs(s-t);return o?i+a/o:a?1:i}function Zt(n=[],e=P.minMatchCharLength){let t=[],s=-1,o=-1,l=0;for(let i=n.length;l<i;l+=1){let a=n[l];a&&s===-1?s=l:!a&&s!==-1&&(o=l-1,o-s+1>=e&&t.push([s,o]),s=-1)}return n[l-1]&&l-s>=e&&t.push([s,l-1]),t}const me=32;function en(n,e,t,{location:s=P.location,distance:o=P.distance,threshold:l=P.threshold,findAllMatches:i=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,includeMatches:d=P.includeMatches,ignoreLocation:r=P.ignoreLocation}={}){if(e.length>me)throw new Error(Dt(me));const m=e.length,y=n.length,E=Math.max(0,Math.min(s,y));let u=l,f=E;const k=a>1||d,b=k?Array(y):[];let g;for(;(g=n.indexOf(e,f))>-1;){let R=Ae(e,{currentLocation:g,expectedLocation:E,distance:o,ignoreLocation:r});if(u=Math.min(R,u),f=g+m,k){let $=0;for(;$<m;)b[g+$]=1,$+=1}}f=-1;let I=[],B=1,O=m+y;const M=1<<m-1;for(let R=0;R<m;R+=1){let $=0,A=O;for(;$<A;)Ae(e,{errors:R,currentLocation:E+A,expectedLocation:E,distance:o,ignoreLocation:r})<=u?$=A:O=A,A=Math.floor((O-$)/2+$);O=A;let c=Math.max(1,E-A+1),p=i?y:Math.min(E+A,y)+m,h=Array(p+2);h[p+1]=(1<<R)-1;for(let N=p;N>=c;N-=1){let J=N-1,Q=t[n.charAt(J)];if(k&&(b[J]=+!!Q),h[N]=(h[N+1]<<1|1)&Q,R&&(h[N]|=(I[N+1]|I[N])<<1|1|I[N+1]),h[N]&M&&(B=Ae(e,{errors:R,currentLocation:J,expectedLocation:E,distance:o,ignoreLocation:r}),B<=u)){if(u=B,f=J,f<=E)break;c=Math.max(1,2*E-f)}}if(Ae(e,{errors:R+1,currentLocation:E,expectedLocation:E,distance:o,ignoreLocation:r})>u)break;I=h}const F={isMatch:f>=0,score:Math.max(.001,B)};if(k){const R=Zt(b,a);R.length?d&&(F.indices=R):F.isMatch=!1}return F}function tn(n){let e={};for(let t=0,s=n.length;t<s;t+=1){const o=n.charAt(t);e[o]=(e[o]||0)|1<<s-t-1}return e}class rt{constructor(e,{location:t=P.location,threshold:s=P.threshold,distance:o=P.distance,includeMatches:l=P.includeMatches,findAllMatches:i=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:d=P.isCaseSensitive,ignoreLocation:r=P.ignoreLocation}={}){if(this.options={location:t,threshold:s,distance:o,includeMatches:l,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:d,ignoreLocation:r},this.pattern=d?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const m=(E,u)=>{this.chunks.push({pattern:E,alphabet:tn(E),startIndex:u})},y=this.pattern.length;if(y>me){let E=0;const u=y%me,f=y-u;for(;E<f;)m(this.pattern.substr(E,me),E),E+=me;if(u){const k=y-me;m(this.pattern.substr(k),k)}}else m(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:s}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let f={isMatch:!0,score:0};return s&&(f.indices=[[0,e.length-1]]),f}const{location:o,distance:l,threshold:i,findAllMatches:a,minMatchCharLength:d,ignoreLocation:r}=this.options;let m=[],y=0,E=!1;this.chunks.forEach(({pattern:f,alphabet:k,startIndex:b})=>{const{isMatch:g,score:I,indices:B}=en(e,f,k,{location:o+b,distance:l,threshold:i,findAllMatches:a,minMatchCharLength:d,includeMatches:s,ignoreLocation:r});g&&(E=!0),y+=I,g&&B&&(m=[...m,...B])});let u={isMatch:E,score:E?y/this.chunks.length:1};return E&&s&&(u.indices=m),u}}class fe{constructor(e){this.pattern=e}static isMultiMatch(e){return Xe(e,this.multiRegex)}static isSingleMatch(e){return Xe(e,this.singleRegex)}search(){}}function Xe(n,e){const t=n.match(e);return t?t[1]:null}class nn extends fe{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class on extends fe{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class ln extends fe{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class sn extends fe{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class an extends fe{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class rn extends fe{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class ut extends fe{constructor(e,{location:t=P.location,threshold:s=P.threshold,distance:o=P.distance,includeMatches:l=P.includeMatches,findAllMatches:i=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:d=P.isCaseSensitive,ignoreLocation:r=P.ignoreLocation}={}){super(e),this._bitapSearch=new rt(e,{location:t,threshold:s,distance:o,includeMatches:l,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:d,ignoreLocation:r})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class dt extends fe{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,s;const o=[],l=this.pattern.length;for(;(s=e.indexOf(this.pattern,t))>-1;)t=s+l,o.push([s,t-1]);const i=!!o.length;return{isMatch:i,score:i?0:1,indices:o}}}const je=[nn,dt,ln,sn,rn,an,on,ut],Qe=je.length,un=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,dn="|";function cn(n,e={}){return n.split(dn).map(t=>{let s=t.trim().split(un).filter(l=>l&&!!l.trim()),o=[];for(let l=0,i=s.length;l<i;l+=1){const a=s[l];let d=!1,r=-1;for(;!d&&++r<Qe;){const m=je[r];let y=m.isMultiMatch(a);y&&(o.push(new m(y,e)),d=!0)}if(!d)for(r=-1;++r<Qe;){const m=je[r];let y=m.isSingleMatch(a);if(y){o.push(new m(y,e));break}}}return o})}const pn=new Set([ut.type,dt.type]);class vn{constructor(e,{isCaseSensitive:t=P.isCaseSensitive,includeMatches:s=P.includeMatches,minMatchCharLength:o=P.minMatchCharLength,ignoreLocation:l=P.ignoreLocation,findAllMatches:i=P.findAllMatches,location:a=P.location,threshold:d=P.threshold,distance:r=P.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:s,minMatchCharLength:o,findAllMatches:i,ignoreLocation:l,location:a,threshold:d,distance:r},this.pattern=t?e:e.toLowerCase(),this.query=cn(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let l=0,i=[],a=0;for(let d=0,r=t.length;d<r;d+=1){const m=t[d];i.length=0,l=0;for(let y=0,E=m.length;y<E;y+=1){const u=m[y],{isMatch:f,indices:k,score:b}=u.search(e);if(f){if(l+=1,a+=b,s){const g=u.constructor.type;pn.has(g)?i=[...i,...k]:i.push(k)}}else{a=0,l=0,i.length=0;break}}if(l){let y={isMatch:!0,score:a/l};return s&&(y.indices=i),y}}return{isMatch:!1,score:1}}}const De=[];function fn(...n){De.push(...n)}function Ne(n,e){for(let t=0,s=De.length;t<s;t+=1){let o=De[t];if(o.condition(n,e))return new o(n,e)}return new rt(n,e)}const Fe={AND:"$and",OR:"$or"},qe={PATH:"$path",PATTERN:"$val"},Ue=n=>!!(n[Fe.AND]||n[Fe.OR]),mn=n=>!!n[qe.PATH],hn=n=>!pe(n)&&lt(n)&&!Ue(n),Ze=n=>({[Fe.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function ct(n,e,{auto:t=!0}={}){const s=o=>{let l=Object.keys(o);const i=mn(o);if(!i&&l.length>1&&!Ue(o))return s(Ze(o));if(hn(o)){const d=i?o[qe.PATH]:l[0],r=i?o[qe.PATTERN]:o[d];if(!ue(r))throw new Error(jt(d));const m={keyId:We(d),pattern:r};return t&&(m.searcher=Ne(r,e)),m}let a={children:[],operator:l[0]};return l.forEach(d=>{const r=o[d];pe(r)&&r.forEach(m=>{a.children.push(s(m))})}),a};return Ue(n)||(n=Ze(n)),s(n)}function yn(n,{ignoreFieldNorm:e=P.ignoreFieldNorm}){n.forEach(t=>{let s=1;t.matches.forEach(({key:o,norm:l,score:i})=>{const a=o?o.weight:null;s*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(e?1:l))}),t.score=s})}function gn(n,e){const t=n.matches;e.matches=[],oe(t)&&t.forEach(s=>{if(!oe(s.indices)||!s.indices.length)return;const{indices:o,value:l}=s;let i={indices:o,value:l};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),e.matches.push(i)})}function _n(n,e){e.score=n.score}function bn(n,e,{includeMatches:t=P.includeMatches,includeScore:s=P.includeScore}={}){const o=[];return t&&o.push(gn),s&&o.push(_n),n.map(l=>{const{idx:i}=l,a={item:e[i],refIndex:i};return o.length&&o.forEach(d=>{d(l,a)}),a})}class ke{constructor(e,t={},s){this.options={...P,...t},this.options.useExtendedSearch,this._keyStore=new Ut(this.options.keys),this.setCollection(e,s)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ke))throw new Error(Wt);this._myIndex=t||at(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){oe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let s=0,o=this._docs.length;s<o;s+=1){const l=this._docs[s];e(l,s)&&(this.removeAt(s),s-=1,o-=1,t.push(l))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:l,sortFn:i,ignoreFieldNorm:a}=this.options;let d=ue(e)?ue(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return yn(d,{ignoreFieldNorm:a}),l&&d.sort(i),ot(t)&&t>-1&&(d=d.slice(0,t)),bn(d,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(e){const t=Ne(e,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:l,i,n:a})=>{if(!oe(l))return;const{isMatch:d,score:r,indices:m}=t.searchIn(l);d&&o.push({item:l,idx:i,matches:[{score:r,value:l,norm:a,indices:m}]})}),o}_searchLogical(e){const t=ct(e,this.options),s=(a,d,r)=>{if(!a.children){const{keyId:y,searcher:E}=a,u=this._findMatches({key:this._keyStore.get(y),value:this._myIndex.getValueForItemAtKeyId(d,y),searcher:E});return u&&u.length?[{idx:r,item:d,matches:u}]:[]}const m=[];for(let y=0,E=a.children.length;y<E;y+=1){const u=a.children[y],f=s(u,d,r);if(f.length)m.push(...f);else if(a.operator===Fe.AND)return[]}return m},o=this._myIndex.records,l={},i=[];return o.forEach(({$:a,i:d})=>{if(oe(a)){let r=s(t,a,d);r.length&&(l[d]||(l[d]={idx:d,item:a,matches:[]},i.push(l[d])),r.forEach(({matches:m})=>{l[d].matches.push(...m)}))}}),i}_searchObjectList(e){const t=Ne(e,this.options),{keys:s,records:o}=this._myIndex,l=[];return o.forEach(({$:i,i:a})=>{if(!oe(i))return;let d=[];s.forEach((r,m)=>{d.push(...this._findMatches({key:r,value:i[m],searcher:t}))}),d.length&&l.push({idx:a,item:i,matches:d})}),l}_findMatches({key:e,value:t,searcher:s}){if(!oe(t))return[];let o=[];if(pe(t))t.forEach(({v:l,i,n:a})=>{if(!oe(l))return;const{isMatch:d,score:r,indices:m}=s.searchIn(l);d&&o.push({score:r,key:e,value:l,idx:i,norm:a,indices:m})});else{const{v:l,n:i}=t,{isMatch:a,score:d,indices:r}=s.searchIn(l);a&&o.push({score:d,key:e,value:l,norm:i,indices:r})}return o}}ke.version="7.0.0";ke.createIndex=at;ke.parseIndex=Qt;ke.config=P;ke.parseQuery=ct;fn(vn);const kn={class:"BuilderTemplateInput"},In=["id"],Sn=["value"],En={key:2,class:"fieldStateAutocomplete",tabindex:"-1"},Cn=["value","onClick"],xn={class:"prop"},wn={class:"type"},Bn=q({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0}},emits:["input","update:value"],setup(n,{expose:e,emit:t}){const s=t,o=n,l=L(W.core),i=ft([]),a=H(null);e({focus:()=>{var I;return(I=a.value)==null?void 0:I.focus()}});function d(I,B){return B.reduce((O,M)=>O==null?void 0:O[M],I)}const r=I=>{var p,h;let B=((p=a.value)==null?void 0:p.value)??"";const{selectionStart:O,selectionEnd:M}=((h=a.value)==null?void 0:h.getSelection())??{},F=B.slice(0,O),R=y(F);if(R===null)return;const A=R.at(-1).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",c=F.replace(new RegExp(A),I);B=c+B.slice(M),s("input",{target:{value:B}}),s("update:value",B),i.value=[],a.value.focus(),ce(()=>{a.value.setSelectionEnd(c.length),a.value.setSelectionStart(c.length)})},m=I=>I===null?"null":I===void 0?"undefined":typeof I,y=I=>{if((o.type??"template")==="state")return I.split(".");const B=I.match(/@\{([^}{@]*)$/);return B?((B==null?void 0:B[1])??"").split("."):null},E=I=>I.replace(/\\/g,"\\\\").replace(/\./g,"\\."),u=I=>{s("input",I),s("update:value",I.target.value),f()},f=()=>{var h,j;const{selectionStart:I,selectionEnd:B}=((h=a.value)==null?void 0:h.getSelection())??{},O=(j=a.value)==null?void 0:j.value;if(!(I===B)){i.value=[];return}const F=O.slice(0,I),R=y(F);if(R===null){i.value=[];return}const $=R.at(-1),A=R.slice(0,-1),c=Object.entries(d(l.userState.value,A)??{}).map(([N,J])=>({text:E(N),type:m(J)})),p=new ke(c,{findAllMatches:!0,includeMatches:!0,keys:["text"]});if($===""){i.value=c;return}i.value=p.search($).map(N=>{const{item:J}=N;return J})};let k;function b(){k=setTimeout(()=>{i.value=[],k=null},300)}function g(){k&&(clearTimeout(k),k=null)}return(I,B)=>{const O=mt("capture-tabs");return v(),w("div",kn,[o.multiline?C("",!0):(v(),w(Z,{key:0},[V(re,{ref_key:"input",ref:a,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",placeholder:o.placeholder,list:o.options?`list-${o.inputId}`:void 0,invalid:n.error!==void 0,onInput:u,onBlur:b},null,8,["model-value","placeholder","list","invalid"]),o.options?(v(),w("datalist",{key:0,id:`list-${o.inputId}`},[(v(!0),w(Z,null,ve(n.options,(M,F)=>(v(),w("option",{key:F,value:F},[M.toLowerCase()!==F.toLowerCase()?(v(),w(Z,{key:0},[ie(Y(M),1)],64)):C("",!0)],8,Sn))),128))],8,In)):C("",!0)],64)),o.multiline?Ce((v(),T(ht,{key:1,ref_key:"input",ref:a,variant:o.variant,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",rows:"3",placeholder:o.placeholder,invalid:n.error!==void 0,onInput:u},null,8,["variant","model-value","placeholder","invalid"])),[[O]]):C("",!0),i.value.length?(v(),w("div",En,[(v(!0),w(Z,null,ve(i.value,(M,F)=>(v(),w("button",{key:F,class:"fieldStateAutocompleteOption",value:F,onFocusout:b,onFocusin:g,onClick:()=>r(M.text)},[S("span",xn,Y(M.text),1),S("span",wn,Y(M.type),1)],40,Cn))),128))])):C("",!0)])}}}),ae=U(Bn,[["__scopeId","data-v-9e979551"]]),$n=q({__name:"WdsTab",props:{disabled:{type:Boolean},selected:{type:Boolean}},emits:{click:()=>!0},setup(n){return(e,t)=>(v(),w("button",{class:Ve(["WdsTab",{"WdsTab--disabled":n.disabled,"WdsTab--selected":n.selected}]),type:"button",onClick:t[0]||(t[0]=s=>e.$emit("click"))},[Te(e.$slots,"default",{},void 0,!0)],2))}}),An=U($n,[["__scopeId","data-v-333dd4cb"]]),Mn={class:"WdsTabs"},Tn=q({__name:"WdsTabs",props:yt({tabs:{type:Array,required:!0}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=gt(n,"modelValue");return(t,s)=>(v(),w("div",Mn,[(v(!0),w(Z,null,ve(n.tabs,o=>(v(),T(An,{key:o.value,disabled:o.disabled,selected:o.value===e.value,onClick:l=>e.value=o.value},{default:D(()=>[ie(Y(o.label),1)]),_:2},1032,["disabled","selected","onClick"]))),128))]))}}),ge=U(Tn,[["__scopeId","data-v-26cb79f9"]]),Be=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),Fn=["data-automation-key"],On={key:0,class:"main"},Vn={key:0,class:"pickerContainer"},Rn=q({__name:"BuilderFieldsAlign",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},direction:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=le({loader:()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),loadingComponent:be}),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=z("rootEl"),i=z("pickerEl"),a=z("freehandInputEl"),d=[{key:"start",label:"Left",match:c=>c=="start",default:"start",icon:"format_align_left"},{key:"center",label:"Center",match:c=>c=="center",default:"center",icon:"format_align_center"},{key:"end",label:"Right",match:c=>c=="end",default:"end",icon:"format_align_right"}],r=[{key:"start",label:"Top",match:c=>c=="start",default:"start",icon:"vertical_align_top"},{key:"center",label:"Center",match:c=>c=="center",default:"center",icon:"vertical_align_center"},{key:"end",label:"Bottom",match:c=>c=="end",default:"end",icon:"vertical_align_bottom"}],m={pick:i,css:a,default:null},y=n,{componentId:E,fieldKey:u,direction:f}=te(y),k=x(()=>t.getComponentById(E.value)),b=x(()=>f.value=="vertical"?r:f.value=="horizontal"?d:r),g=x(()=>b.value.map(c=>({value:c.key,label:c.label,icon:c.icon}))),I=x(()=>{const c=k.value.content[u.value];for(const p in b.value)if(c&&b.value[p].match(c))return b.value[p].key;return null}),B=x(()=>{const c=k.value.content[u.value];return c||""}),M=H((()=>{if(!B.value)return"default";for(const c in b.value)if(b.value[c].match(B.value))return"pick";return"css"})()),F=()=>{var p;const c=(p=m[M.value])==null?void 0:p.value;c&&(c.focus(),typeof c.selectionStart=="number"&&(c.selectionStart=c.selectionEnd=c.value.length))},R=async c=>{M.value!=c&&(M.value=c,await ce(),F(),c==="default"&&o(k.value.id,u.value,void 0))},$=c=>{for(const p in b.value)if(b.value[p].key==c){const h=b.value[p].default;k.value.content[u.value]=h,o(k.value.id,u.value,h)}},A=c=>{o(k.value.id,u.value,c.target.value)};return ye(()=>{l.value.addEventListener("focus",F)}),we(()=>{l.value.removeEventListener("focus",F)}),(c,p)=>(v(),w("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":y.fieldKey},[V(ge,{tabs:_(Be),"model-value":M.value,"onUpdate:modelValue":R},null,8,["tabs","model-value"]),M.value=="pick"||M.value=="css"?(v(),w("div",On,[M.value=="pick"?(v(),w("div",Vn,[V(_(e),{ref_key:"pickerEl",ref:i,"model-value":I.value,options:g.value,"onUpdate:modelValue":$},null,8,["model-value","options"])])):C("",!0),M.value=="css"?(v(),T(ae,{key:1,ref_key:"freehandInputEl",ref:a,value:k.value.content[_(u)],error:n.error,onInput:A},null,8,["value","error"])):C("",!0)])):C("",!0)],8,Fn))}}),et=U(Rn,[["__scopeId","data-v-31969a8e"]]),Pn=["data-automation-key"],Ln={key:0,class:"main"},Wn={key:0,class:"pickerContainer"},jn=["value"],Dn=q({__name:"BuilderFieldsColor",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(W.core),t=L(W.builderManager),{setContentValue:s}=ee(e,t),o=z("rootEl"),l=z("pickerEl"),i=z("freehandInputEl"),a={pick:l,css:i,default:null},d=n,{componentId:r,fieldKey:m}=te(d),y=x(()=>e.getComponentById(r.value)),u=H((()=>{const g=y.value.content[m.value];return g?/#[A-Fa-f0-9]{6}/.test(g)?"pick":"css":"default"})()),f=()=>{var I;const g=(I=a[u.value])==null?void 0:I.value;g&&(g.focus(),typeof g.selectionStart=="number"&&(g.selectionStart=g.selectionEnd=g.value.length))},k=async g=>{u.value!=g&&(u.value=g,await ce(),f(),g==="default"&&s(y.value.id,m.value,void 0))},b=g=>s(y.value.id,m.value,g.target.value);return ye(()=>{o.value.addEventListener("focus",f)}),we(()=>{o.value.removeEventListener("focus",f)}),(g,I)=>(v(),w("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":_(m)},[V(ge,{tabs:_(Be),"model-value":u.value,"onUpdate:modelValue":k},null,8,["tabs","model-value"]),u.value=="pick"||u.value=="css"?(v(),w("div",Ln,[u.value=="pick"?(v(),w("div",Wn,[S("input",{ref_key:"pickerEl",ref:l,type:"color",value:y.value.content[_(m)],onInput:b},null,40,jn)])):C("",!0),u.value=="css"?(v(),T(ae,{key:1,ref_key:"freehandInputEl",ref:i,value:y.value.content[_(m)],error:n.error,onInput:b},null,8,["value","error"])):C("",!0)])):C("",!0)],8,Pn))}}),Nn=U(Dn,[["__scopeId","data-v-335d2cc7"]]),qn=q({__name:"BuilderFieldsObject",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(W.core),t=L(W.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:i}=te(o),a=x(()=>e.getComponentById(l.value)),d=m=>{s(a.value.id,i.value,m)},r=x(()=>{const{type:m}=a.value;return e.getComponentDefinition(m).fields[i.value]});return(m,y)=>{var E;return v(),T(ae,{class:"BuilderFieldsObject","data-automation-key":o.fieldKey,multiline:"",variant:"code",value:a.value.content[_(i)],placeholder:(E=r.value)==null?void 0:E.default,error:n.error,onInput:y[0]||(y[0]=u=>d(u.target.value))},null,8,["data-automation-key","value","placeholder","error"])}}}),pt=U(qn,[["__scopeId","data-v-7749ae31"]]),Un=["data-automation-key"],Kn=["onClick"],zn={class:"formAdd"},Yn=q({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(W.core),t=L(W.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:i}=te(o),a=x(()=>e.getComponentById(l.value)),d=z("rootEl"),r=z("assistedKeyEl"),m=H(null),y=H({}),E=H({key:"",value:""}),u=[{label:"Static List",value:"assisted"},{label:"JSON",value:"freehand"}],{getEvaluatedFields:f}=nt(e),k=x(()=>f(o.instancePath)[i.value].value),b=async O=>{m.value!=O&&(m.value=O,m.value=="assisted"&&g(),await ce())},g=()=>{y.value=k.value??{}},I=()=>{const{key:O,value:M}=E.value;O===""||M===""||(y.value={...y.value,[O]:M},s(a.value.id,i.value,JSON.stringify(y.value,null,2)),E.value={key:"",value:""},r.value.focus())},B=O=>{const M=y.value;if(delete M[O],y.value=M,Object.keys(y.value).length==0){s(a.value.id,i.value,void 0);return}s(a.value.id,i.value,JSON.stringify(y.value,null,2))};return xe(()=>{var O;return(O=a.value)==null?void 0:O.content[i.value]},async()=>{!a.value||!k.value||(y.value=k.value)}),ye(async()=>{k.value?(y.value=k.value,b("assisted")):b("freehand")}),(O,M)=>(v(),w("div",{ref_key:"rootEl",ref:d,class:"BuilderFieldsOptions",tabindex:"-1","data-automation-key":o.fieldKey},[V(ge,{class:"BuilderFieldsOptions__tabs",tabs:u,"model-value":m.value,"onUpdate:modelValue":b},null,8,["model-value"]),m.value=="assisted"?(v(),w(Z,{key:0},[S("div",{class:Ve(["staticList",{"staticList--invalid":n.error!==void 0}])},[(v(!0),w(Z,null,ve(y.value,(F,R)=>(v(),w("div",{key:R,class:"entry"},[S("div",null,Y(R)+" · "+Y(F),1),S("button",{variant:"subtle",onClick:$=>B(R)},M[2]||(M[2]=[S("i",{class:"material-symbols-outlined"},"delete",-1)]),8,Kn)]))),128))],2),S("div",zn,[V(ae,{ref_key:"assistedKeyEl",ref:r,class:"inputKey",placeholder:"Type a key...",value:E.value.key,"onUpdate:value":M[0]||(M[0]=F=>E.value.key=F),onKeydown:Ye(I,["enter"])},null,8,["value"]),V(ae,{class:"inputValue",placeholder:"Type a value...",value:E.value.value,"onUpdate:value":M[1]||(M[1]=F=>E.value.value=F),onKeydown:Ye(I,["enter"])},null,8,["value"]),S("button",{onClick:I},M[3]||(M[3]=[S("i",{class:"material-symbols-outlined"},"add",-1),ie("Add ")]))])],64)):C("",!0),m.value=="freehand"?(v(),T(pt,{key:1,"component-id":a.value.id,"field-key":_(i),error:n.error},null,8,["component-id","field-key","error"])):C("",!0)],8,Un))}}),Gn=U(Yn,[["__scopeId","data-v-810ae0d0"]]),Hn=["data-automation-key"],Jn={key:0,class:"main"},Xn={key:0,class:"pickerContainer"},Qn={class:"BuilderFieldsPadding__options"},Zn=q({__name:"BuilderFieldsPadding",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=le({loader:()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),loadingComponent:be}),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=z("rootEl"),i=z("pickerEl"),a=z("freehandInputEl"),d=z("fixedEl"),r=[{key:"all_sides",label:"All sides",match:p=>p.split(" ").length==1&&p.endsWith("px"),default:()=>B.value?B.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:p=>p.split(" ").length==2&&p.endsWith("px"),default:()=>B.value?B.value[2]+" "+B.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:p=>p.split(" ").length==4&&p.endsWith("px"),default:()=>B.value?[B.value[3],B.value[1],B.value[2],B.value[0]].join(" "):"0px 0px 0px 0px"}],m={pick:i,css:a,default:null},y=n,{componentId:E,fieldKey:u}=te(y),f=x(()=>t.getComponentById(E.value)),k=x(()=>r.map(p=>({value:p.key,label:p.label,icon:"padding"}))),b=x(()=>{const p=f.value.content[u.value];for(const h in r)if(p&&r[h].match(p))return r[h].key;return null}),g=x(()=>{const p=f.value.content[u.value];return p||""}),I=x(()=>{const p=B.value;return p?[p[0].substring(0,p[0].length-2),p[1].substring(0,p[1].length-2),p[2].substring(0,p[2].length-2),p[3].substring(0,p[3].length-2)]:["0","0","0","0"]}),B=x(()=>{const p=f.value.content[u.value];if(p){const h=p.split(" ");if(h.length==1&&h[0].endsWith("px"))return[h[0],h[0],h[0],h[0]];if(h.length==2&&h[0].endsWith("px")&&h[0].endsWith("px"))return[h[1],h[1],h[0],h[0]];if(h.length==4&&h[0].endsWith("px")&&h[1].endsWith("px")&&h[2].endsWith("px")&&h[3].endsWith("px"))return[h[3],h[1],h[0],h[2]]}else return null;return null}),M=H((()=>{if(!g.value)return"default";for(const p in r)if(r[p].match(g.value))return"pick";return"css"})()),F=()=>{var h;const p=(h=m[M.value])==null?void 0:h.value;p&&(p.focus(),typeof p.selectionStart=="number"&&(p.selectionStart=p.selectionEnd=p.value.length))},R=async p=>{M.value!=p&&(M.value=p,await ce(),F(),p==="default"&&o(f.value.id,u.value,void 0))},$=p=>{for(const h in r)if(r[h].key==p){const j=r[h].default();f.value.content[u.value]=j,o(f.value.id,u.value,j)}ce(()=>{var h;(h=d.value)==null||h.focus()})},A=p=>{o(f.value.id,u.value,p.target.value)},c=(p,h,j)=>{const N=Number(p),J=f.value.content[u.value];if(h=="all_sides")o(f.value.id,u.value,N+"px");else if(h=="XY sides"){const Q=J.split(" ");j=="x"?Q[1]=N+"px":j=="y"&&(Q[0]=N+"px"),o(f.value.id,u.value,Q.join(" "))}else if(h=="Per side"){const Q=J.split(" ");j=="top"?Q[0]=N+"px":j=="right"?Q[1]=N+"px":j=="bottom"?Q[2]=N+"px":j=="left"&&(Q[3]=N+"px"),o(f.value.id,u.value,Q.join(" "))}};return ye(()=>{l.value.addEventListener("focus",F)}),we(()=>{l.value.removeEventListener("focus",F)}),(p,h)=>(v(),w("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":y.fieldKey},[V(ge,{tabs:_(Be),"model-value":M.value,"onUpdate:modelValue":R},null,8,["tabs","model-value"]),M.value=="pick"||M.value=="css"?(v(),w("div",Jn,[M.value=="pick"?(v(),w("div",Xn,[V(_(e),{ref_key:"pickerEl",ref:i,"model-value":b.value,options:k.value,"onUpdate:modelValue":$},null,8,["model-value","options"]),S("div",Qn,[b.value=="all_sides"?(v(),w(Z,{key:0},[h[7]||(h[7]=S("i",null,"All",-1)),V(re,{ref_key:"fixedEl",ref:d,type:"number","model-value":I.value[0],"onUpdate:modelValue":h[0]||(h[0]=j=>c(j,b.value))},null,8,["model-value"]),h[8]||(h[8]=S("div",null,"px",-1))],64)):C("",!0),b.value=="XY sides"?(v(),w(Z,{key:1},[h[9]||(h[9]=S("i",null,"X",-1)),V(re,{type:"number","model-value":I.value[0],"onUpdate:modelValue":h[1]||(h[1]=j=>c(j,b.value,"x"))},null,8,["model-value"]),h[10]||(h[10]=S("div",null,"px",-1)),h[11]||(h[11]=S("i",null,"Y",-1)),V(re,{type:"number","model-value":I.value[2],"onUpdate:modelValue":h[2]||(h[2]=j=>c(j,b.value,"y"))},null,8,["model-value"]),h[12]||(h[12]=S("div",null,"px",-1))],64)):C("",!0),b.value=="Per side"?(v(),w(Z,{key:2},[h[13]||(h[13]=S("i",null,"Left",-1)),V(re,{type:"number","model-value":I.value[0],"onUpdate:modelValue":h[3]||(h[3]=j=>c(j,b.value,"left"))},null,8,["model-value"]),h[14]||(h[14]=S("div",null,"px",-1)),h[15]||(h[15]=S("i",null,"Right",-1)),V(re,{type:"number","model-value":I.value[1],"onUpdate:modelValue":h[4]||(h[4]=j=>c(j,b.value,"right"))},null,8,["model-value"]),h[16]||(h[16]=S("div",null,"px",-1)),h[17]||(h[17]=S("i",null,"Top",-1)),V(re,{type:"number","model-value":I.value[2],"onUpdate:modelValue":h[5]||(h[5]=j=>c(j,b.value,"top"))},null,8,["model-value"]),h[18]||(h[18]=S("div",null,"px",-1)),h[19]||(h[19]=S("i",null,"Bottom",-1)),V(re,{type:"number","model-value":I.value[3],"onUpdate:modelValue":h[6]||(h[6]=j=>c(j,b.value,"bottom"))},null,8,["model-value"]),h[20]||(h[20]=S("div",null,"px",-1))],64)):C("",!0)])])):C("",!0),M.value=="css"?(v(),T(ae,{key:1,ref_key:"freehandInputEl",ref:a,value:f.value.content[_(u)],error:n.error,onInput:A},null,8,["value","error"])):C("",!0)])):C("",!0)],8,Hn))}}),eo=U(Zn,[["__scopeId","data-v-293a6705"]]),to=["data-automation-key"],no={key:0,class:"main"},oo={key:0,class:"pickerContainer"},lo={class:"param"},so={class:"header"},io=["value"],ao={class:"param"},ro={class:"header"},uo=["value"],co={class:"param"},po={class:"header"},vo=["value"],fo={class:"param"},mo={class:"header"},ho=["value"],yo={class:"param"},go=["value"],_o=q({__name:"BuilderFieldsShadow",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(W.core),t=L(W.builderManager),{setContentValue:s}=ee(e,t),o=z("rootEl"),l=z("freehandInputEl"),i=z("paramOffsetXEl"),a=z("paramOffsetYEl"),d=z("paramBlurRadiusEl"),r=z("paramSpreadRadiusEl"),m=z("paramColorEl"),y={pick:i,css:l,default:null},E=n,{componentId:u,fieldKey:f}=te(E),k=x(()=>e.getComponentById(u.value)),b=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,I=H((()=>{const $=k.value.content[f.value];return $?b.test($)?"pick":"css":"default"})()),B=()=>{var A;const $=(A=y[I.value])==null?void 0:A.value;$&&($.focus(),typeof $.selectionStart=="number"&&($.selectionStart=$.selectionEnd=$.value.length))},O=async $=>{I.value!=$&&(I.value=$,await ce(),B(),$==="default"&&s(k.value.id,f.value,void 0))},M=()=>{const $=i.value.value,A=a.value.value,c=d.value.value,p=r.value.value,h=m.value.value,j=`${$}px ${A}px ${c}px ${p}px ${h}`;s(k.value.id,f.value,j)},F=$=>{s(k.value.id,f.value,$.target.value)},R=x(()=>{var c;const $=k.value.content[f.value];return(c=$==null?void 0:$.match(b))==null?void 0:c.groups});return ye(()=>{o.value.addEventListener("focus",B)}),we(()=>{o.value.removeEventListener("focus",B)}),($,A)=>{var c,p,h,j,N,J,Q,Ie,Se,Ee,ne,K,ze;return v(),w("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":E.fieldKey},[V(ge,{tabs:_(Be),"model-value":I.value,"onUpdate:modelValue":O},null,8,["tabs","model-value"]),I.value=="pick"||I.value=="css"?(v(),w("div",no,[I.value=="pick"?(v(),w("div",oo,[S("div",lo,[S("div",so,[A[0]||(A[0]=S("div",{class:"name"},"Offset X",-1)),Ce(S("div",{class:"value"},Y((c=R.value)==null?void 0:c.offsetX)+"px ",513),[[$e,(p=R.value)==null?void 0:p.offsetX]])]),S("input",{ref_key:"paramOffsetXEl",ref:i,type:"range",min:"0",max:"32",value:(h=R.value)==null?void 0:h.offsetX,onInput:M},null,40,io)]),S("div",ao,[S("div",ro,[A[1]||(A[1]=S("div",{class:"name"},"Offset Y",-1)),Ce(S("div",{class:"value"},Y((j=R.value)==null?void 0:j.offsetY)+"px ",513),[[$e,(N=R.value)==null?void 0:N.offsetY]])]),S("input",{ref_key:"paramOffsetYEl",ref:a,type:"range",min:"0",max:"32",value:(J=R.value)==null?void 0:J.offsetY,onInput:M},null,40,uo)]),S("div",co,[S("div",po,[A[2]||(A[2]=S("div",{class:"name"},"Blur radius",-1)),Ce(S("div",{class:"value"},Y((Q=R.value)==null?void 0:Q.blurRadius)+"px ",513),[[$e,(Ie=R.value)==null?void 0:Ie.blurRadius]])]),S("input",{ref_key:"paramBlurRadiusEl",ref:d,type:"range",min:"0",max:"32",value:(Se=R.value)==null?void 0:Se.blurRadius,onInput:M},null,40,vo)]),S("div",fo,[S("div",mo,[A[3]||(A[3]=S("div",{class:"name"},"Spread radius",-1)),Ce(S("div",{class:"value"},Y((Ee=R.value)==null?void 0:Ee.spreadRadius)+"px ",513),[[$e,(ne=R.value)==null?void 0:ne.spreadRadius]])]),S("input",{ref_key:"paramSpreadRadiusEl",ref:r,type:"range",min:"-16",max:"32",value:(K=R.value)==null?void 0:K.spreadRadius,onInput:M},null,40,ho)]),S("div",yo,[A[4]||(A[4]=S("div",{class:"header"},[S("div",{class:"name"},"Color")],-1)),S("input",{ref_key:"paramColorEl",ref:m,type:"color",value:(ze=R.value)==null?void 0:ze.color,onInput:M},null,40,go)])])):C("",!0),I.value=="css"?(v(),T(ae,{key:1,ref_key:"freehandInputEl",ref:l,value:k.value.content[_(f)],error:n.error,onInput:F},null,8,["value","error"])):C("",!0)])):C("",!0)],8,to)}}}),bo=U(_o,[["__scopeId","data-v-3d00b12a"]]),ko=["data-automation-key"],Io=q({__name:"BuilderFieldsText",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=L(W.core),t=L(W.builderManager),{setContentValue:s}=ee(e,t),o=n,{componentId:l,fieldKey:i}=te(o),a=x(()=>e.getComponentById(l.value)),d=x(()=>{const{type:u}=a.value;return e.getComponentDefinition(u).fields[i.value]}),r=x(()=>`${o.componentId}-${o.fieldKey}`),m={uiComponents:()=>{const u=e.getComponents(void 0,{sortedByPosition:!0}).filter(k=>e.isChildOf("root",k.id)),f={};return u.forEach(k=>{f[k.id]=k.id}),f},uiComponentsWithEvents:()=>e.getComponents(void 0,{sortedByPosition:!0}).filter(u=>e.isChildOf("root",u.id)).filter(u=>!!e.getComponentDefinition(u.type).events).reduce((u,f)=>(u[f.id]=f.id,u),{}),eventTypes:(u,f)=>{var B;const k=(B=u.getComponentById(f).content)==null?void 0:B.refComponentId,b=e.getComponentById(k);if(!b)return{};const g=u.getComponentDefinition(b.type);return Object.fromEntries(Object.keys(g.events??{}).map(O=>[O,O]))}},y=x(()=>{const u=d.value;return u.options?typeof u.options=="function"?u.options(e,l.value):typeof u.options=="string"?m==null?void 0:m[u.options](e,l.value):u.options:{}}),E=u=>{s(a.value.id,i.value,u.target.value)};return(u,f)=>{var k,b;return v(),w("div",{class:"BuilderFieldsText","data-automation-key":o.fieldKey},[!d.value.control||d.value.control==_(Le).Text?(v(),T(ae,{key:0,class:"content","input-id":r.value,value:a.value.content[_(i)],placeholder:(k=d.value)==null?void 0:k.default,options:y.value,error:n.error,onInput:E},null,8,["input-id","value","placeholder","options","error"])):d.value.control==_(Le).Textarea?(v(),T(ae,{key:1,multiline:"",variant:"text",class:"content","input-id":r.value,value:a.value.content[_(i)],placeholder:(b=d.value)==null?void 0:b.default,error:n.error,onInput:E},null,8,["input-id","value","placeholder","error"])):C("",!0)],8,ko)}}}),Pe=U(Io,[["__scopeId","data-v-b2fda2e3"]]),So=["data-automation-key"],Eo={key:0,class:"main"},Co={key:0,class:"pickerContainer"},xo={key:0,class:"fixedContainer"},wo=q({__name:"BuilderFieldsWidth",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=le({loader:()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),loadingComponent:be}),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=z("rootEl"),i=z("pickerEl"),a=z("freehandInputEl"),d=z("fixedEl"),r=[{key:"fixed",label:"Fixed",match:c=>c.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:c=>c=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:c=>c=="100%",default:"100%"}],m={pick:i,css:a,default:null},y=n,{componentId:E,fieldKey:u}=te(y),f=x(()=>t.getComponentById(E.value)),k=x(()=>r.map(c=>({value:c.key,label:c.label,icon:"width"}))),b=x(()=>{const c=f.value.content[u.value];for(const p in r)if(c&&r[p].match(c))return r[p].key;return null}),g=x(()=>{const c=f.value.content[u.value];return c||""}),I=x(()=>{const c=f.value.content[u.value];if(c){if(c.endsWith("px"))return c.substring(0,c.length-2)}else return null;return null}),O=H((()=>{if(!g.value)return"default";for(const c in r)if(r[c].match(g.value))return"pick";return"css"})()),M=()=>{var p;const c=(p=m[O.value])==null?void 0:p.value;c&&(c.focus(),typeof c.selectionStart=="number"&&(c.selectionStart=c.selectionEnd=c.value.length))},F=async c=>{O.value!=c&&(O.value=c,await ce(),M(),c==="default"&&o(f.value.id,u.value,void 0))},R=c=>{for(const p in r)if(r[p].key==c){const h=r[p].default;f.value.content[u.value]=h,o(f.value.id,u.value,h)}c=="fixed"&&ce(()=>{d.value.focus()})},$=c=>{o(f.value.id,u.value,c.target.value)},A=c=>{o(f.value.id,u.value,`${c}px`)};return ye(()=>{l.value.addEventListener("focus",M)}),we(()=>{l.value.removeEventListener("focus",M)}),(c,p)=>(v(),w("div",{ref_key:"rootEl",ref:l,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":y.fieldKey},[V(ge,{tabs:_(Be),"model-value":O.value,"onUpdate:modelValue":F},null,8,["tabs","model-value"]),O.value=="pick"||O.value=="css"?(v(),w("div",Eo,[O.value=="pick"?(v(),w("div",Co,[V(_(e),{ref_key:"pickerEl",ref:i,"model-value":b.value,options:k.value,"onUpdate:modelValue":R},null,8,["model-value","options"]),b.value=="fixed"?(v(),w("div",xo,[V(re,{ref_key:"fixedEl",ref:d,type:"number","model-value":I.value,invalid:n.error!==void 0,"onUpdate:modelValue":A},null,8,["model-value","invalid"]),p[0]||(p[0]=S("div",null,"px",-1))])):C("",!0)])):C("",!0),O.value=="css"?(v(),T(ae,{key:1,ref_key:"freehandInputEl",ref:a,value:f.value.content[_(u)],onInput:$},null,8,["value"])):C("",!0)])):C("",!0)],8,So))}}),Bo=U(wo,[["__scopeId","data-v-a96da90c"]]),$o={class:"WdsFieldWrapper colorTransformer"},Ao={class:"temporaryMissingBar"},Mo={key:0,class:"WdsFieldWrapper__title"},To={key:0,class:"WdsFieldWrapper__title__label"},Fo={key:0,class:"WdsFieldWrapper__title__label__unit"},Oo={class:"WdsFieldWrapper__slot"},Vo={key:1,class:"WdsFieldWrapper__error"},Ro={key:2,class:"WdsFieldWrapper__hint"},Po=q({__name:"WdsFieldWrapper",props:{label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},isExpansible:{type:Boolean,required:!1,default:!1},helpButton:{type:[String,Boolean],required:!1,default:void 0}},emits:{helpClick:()=>!0,expand:()=>!0,shrink:()=>!0},setup(n,{emit:e}){const t=e,s=H(!1);function o(){t("expand"),s.value=!0}const l={desc:"OK",fn:()=>{s.value=!1,t("shrink")}};return(i,a)=>(v(),w("div",$o,[s.value?(v(),w(Z,{key:0},[V(Oe,{actions:[l],description:n.hint,title:n.label},{default:D(()=>[Te(i.$slots,"default",{},void 0,!0)]),_:3},8,["actions","description","title"]),S("div",Ao,[a[1]||(a[1]=ie(" Field ")),S("strong",null,Y(n.label),1),a[2]||(a[2]=ie(" is open in a new window. "))])],64)):(v(),w(Z,{key:1},[!s.value&&(n.label||n.helpButton)?(v(),w("div",Mo,[n.label?(v(),w("label",To,[ie(Y(n.label),1),n.unit?(v(),w("span",Fo," : "+Y(n.unit),1)):C("",!0)])):C("",!0),n.isExpansible?(v(),T(X,{key:1,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":"Expand",onClick:o},{default:D(()=>a[3]||(a[3]=[S("i",{class:"material-symbols-outlined"},"open_in_new",-1)])),_:1})):C("",!0),n.helpButton?(v(),T(X,{key:2,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":typeof n.helpButton=="string"?n.helpButton:void 0,onClick:a[0]||(a[0]=d=>i.$emit("helpClick"))},{default:D(()=>a[4]||(a[4]=[S("i",{class:"material-symbols-outlined"},"help",-1)])),_:1},8,["data-writer-tooltip"])):C("",!0)])):C("",!0),S("div",Oo,[Te(i.$slots,"default",{},void 0,!0)]),n.error?(v(),w("p",Vo,Y(n.error),1)):C("",!0),n.hint?(v(),w("p",Ro,Y(n.hint),1)):C("",!0)],64))]))}}),he=U(Po,[["__scopeId","data-v-6ccdf720"]]),Lo=["data-automation-key"],Wo={class:"tools"},jo=["onClick"],Do={class:"toolName"},No={class:"addToolForm"},qo=q({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(n){const e=le({loader:()=>se(()=>import("./BuilderGraphSelect--rNtXI5Z.js"),__vite__mapDeps([5,1,2,6,7,8,9,10,11,12]),import.meta.url),loadingComponent:be}),t=le(()=>se(()=>import("./BuilderEmbeddedCodeEditor-BHgw0NGA.js").then($=>$.a),__vite__mapDeps([13,1,2,14]),import.meta.url)),s=L(W.core),o=L(W.builderManager),{setContentValue:l}=ee(s,o),a={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:""},d=H(a),r=x(()=>{switch(d.value.type){case"function":return!d.value.code;case"graph":return!d.value.graphIds;default:return!0}}),m=x({get:()=>d.value.graphIds.split(","),set($){d.value={...d.value,graphIds:$.join(",")}}}),y=n,{componentId:E,fieldKey:u}=te(y),f=x(()=>s.getComponentById(E.value)),k=x(()=>{let $={};try{$=JSON.parse(f.value.content[u.value])}catch{$={}}return $});function b(){d.value={...a,isShown:!0}}function g(){const{type:$,code:A,graphIds:c}=d.value;if($=="function")return{...JSON.parse(A),type:$};if($=="graph"){const p=c.split(",").map(h=>h.trim());return{type:$,graph_ids:p}}throw"Unexpected tool type."}function I($){let A=[];const{originalName:c,name:p}=$;return p||A.push("The name cannot be empty."),Object.keys(k.value).includes(p)&&!(c||c==p)&&A.push("An existing tool with the specified name already exists."),A}function B(){const $=I(d.value);if($.length>0){$.forEach(alert);return}let A;try{A=g()}catch{alert("Incorrect tool definition");return}const c=JSON.stringify({...k.value,...d.value.originalName?{[d.value.originalName]:void 0}:{},[d.value.name]:A});l(f.value.id,u.value,c),d.value.isShown=!1}function O($,A){var p;const{type:c}=A;if(c=="function")return{isShown:!0,type:"function",originalName:$,name:$,graphIds:"",code:JSON.stringify(A,void 0,2)};if(c=="graph")return{isShown:!0,type:"graph",originalName:$,name:$,graphIds:(p=A.graph_ids)==null?void 0:p.join(","),code:""};throw"Unexpected tool type;"}function M($){var c;const A=(c=k.value)==null?void 0:c[$];A&&(d.value=O($,A))}function F($){const A=JSON.stringify({...k.value,[$]:void 0});l(f.value.id,u.value,A)}const R=x(()=>[{desc:"cancel",fn:()=>d.value.isShown=!1},{desc:"Save",disabled:r.value,fn:B}]);return($,A)=>(v(),w("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":y.fieldKey},[S("div",Wo,[(v(!0),w(Z,null,ve(k.value,(c,p)=>(v(),w("div",{key:p,class:"tool",onClick:h=>M(p)},[S("div",Do,Y(p),1),V(X,{variant:"primary",size:"small",class:"delete",onClick:_t(h=>F(p),["stop"])},{default:D(()=>A[4]||(A[4]=[S("i",{class:"material-symbols-outlined"},"delete",-1)])),_:2},1032,["onClick"])],8,jo))),128))]),V(X,{size:"small",onClick:b},{default:D(()=>A[5]||(A[5]=[S("i",{class:"material-symbols-outlined"},"add",-1),ie(" Add tool")])),_:1}),d.value.isShown?(v(),T(Oe,{key:0,actions:R.value,title:"Add tool","allow-overflow":""},{default:D(()=>[S("div",No,[V(he,{label:"Tool type"},{default:D(()=>[V(bt,{modelValue:d.value.type,"onUpdate:modelValue":A[0]||(A[0]=c=>d.value.type=c)},{default:D(()=>A[6]||(A[6]=[S("option",{value:"function"},"Function",-1),S("option",{value:"graph"},"Knowledge graph",-1)])),_:1},8,["modelValue"])]),_:1}),V(he,{label:"Tool name"},{default:D(()=>[V(re,{modelValue:d.value.name,"onUpdate:modelValue":A[1]||(A[1]=c=>d.value.name=c)},null,8,["modelValue"])]),_:1}),d.value.type=="function"?(v(),T(he,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:D(()=>[V(_(t),{modelValue:d.value.code,"onUpdate:modelValue":A[2]||(A[2]=c=>d.value.code=c),class:"addToolForm__codeEditor",variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):C("",!0),d.value.type=="graph"?(v(),T(he,{key:1,label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas."},{default:D(()=>[V(_(e),{modelValue:m.value,"onUpdate:modelValue":A[3]||(A[3]=c=>m.value=c),"enable-multi-selection":""},null,8,["modelValue"])]),_:1})):C("",!0)])]),_:1},8,["actions"])):C("",!0)],8,Lo))}}),Uo=U(qo,[["__scopeId","data-v-1584a53c"]]),Ko=q({__name:"BuilderFieldsCode",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},isExpanded:{type:Boolean,required:!0}},setup(n){const e=le({loader:()=>se(()=>import("./BuilderEmbeddedCodeEditor-BHgw0NGA.js").then(m=>m.a),__vite__mapDeps([13,1,2,14]),import.meta.url),loadingComponent:be}),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:i,fieldKey:a}=te(l),d=x(()=>t.getComponentById(i.value)),r=H(d.value.content[a.value]);return xe(r,m=>{o(d.value.id,a.value,m)}),(m,y)=>(v(),T(_(e),{modelValue:r.value,"onUpdate:modelValue":y[0]||(y[0]=E=>r.value=E),language:"python",variant:n.isExpanded?"full":"minimal",class:"BuilderFieldsCode"},null,8,["modelValue","variant"]))}}),zo=U(Ko,[["__scopeId","data-v-65363ed2"]]),Yo=["data-automation-key"],Go=q({__name:"BuilderFieldsBlueprintKey",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(n){const e=le(()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:i,fieldKey:a}=te(l),d=x(()=>t.getComponentById(i.value)),r=x({get:()=>{var u;return((u=d.value)==null?void 0:u.content[l.fieldKey])??""},set:u=>o(d.value.id,a.value,u)}),m=x(()=>{const u=new Set;for(const b of t.getComponents("blueprints_root"))b.content.key&&u.add(b.content.key);const f=[...u].sort((b,g)=>b.localeCompare(g)).map(b=>({value:b,label:b,icon:"linked_services"})),k=[{value:"",label:"(No blueprint)",icon:"block"},...f];if(!k.some(b=>b.value===r.value)){const b=r.value;k.push({value:b,label:b})}return k}),y=x(()=>{const u=t.getComponents("blueprints_root").find(f=>f.content.key===r.value);return u==null?void 0:u.id});function E(){y.value&&(s.setSelection(y.value,null,"click"),t.setActivePageId(y.value))}return(u,f)=>(v(),w("div",{class:"BuilderFieldsBlueprintKey","data-automation-key":l.fieldKey},[V(_(e),{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=k=>r.value=k),options:m.value},null,8,["modelValue","options"]),y.value?(v(),T(X,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the blueprint",onClick:E},{default:D(()=>f[1]||(f[1]=[S("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1})):C("",!0)],8,Yo))}}),Ho=U(Go,[["__scopeId","data-v-bf365f66"]]),Jo=["data-automation-key"],Xo=q({__name:"BuilderFieldsHandler",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(n){const e=le(()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:i,fieldKey:a}=te(l),d=x(()=>t.getComponentById(i.value)),r=x({get:()=>{var y;return((y=d.value)==null?void 0:y.content[l.fieldKey])??""},set:y=>o(d.value.id,a.value,y)}),m=x(()=>{const y=t.userFunctions.value.map(u=>u.name).sort((u,f)=>u.localeCompare(f)).map(u=>({value:u,label:u,icon:"function"})),E=[{value:"",label:"(No handler)",icon:"block"},...y];if(!E.some(u=>u.value===r.value)){const u=r.value;E.push({value:u,label:u})}return E});return(y,E)=>(v(),w("div",{class:"BuilderFieldsHandler","data-automation-key":l.fieldKey},[V(_(e),{modelValue:r.value,"onUpdate:modelValue":E[0]||(E[0]=u=>r.value=u),options:m.value},null,8,["modelValue","options"])],8,Jo))}}),Qo=["data-automation-key"],Zo=["href","data-writer-tooltip"],el=q({__name:"BuilderFieldsWriterResourceId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},resourceType:{type:String,required:!0}},setup(n){const e=le(()=>se(()=>import("./BuilderApplicationSelect-C8rG6DXh.js"),__vite__mapDeps([15,1,2,6,7,8,9,10,11,16]),import.meta.url)),t=le(()=>se(()=>import("./BuilderGraphSelect--rNtXI5Z.js"),__vite__mapDeps([5,1,2,6,7,8,9,10,11,12]),import.meta.url)),s=L(W.core),o=L(W.builderManager),{setContentValue:l}=ee(s,o),i=n,{componentId:a,fieldKey:d}=te(i),r=x(()=>s.getComponentById(a.value)),m=z("selectorEl"),y=x(()=>i.resourceType==="graph"?t:e),E=x(()=>{switch(i.resourceType){case"graph":return"Edit knowledge graph";case"application":return"Edit agent";default:return}}),u=x(()=>{var b,g;if(!f.value)return;const k=(g=(b=m.value)==null?void 0:b.selectedData)==null?void 0:g.organization_id;if(k)switch(i.resourceType){case"graph":{const I=new URLSearchParams({graphId:f.value});return`https://app.writer.com/aistudio/organization/${k}/knowledge-graph?${I}`}case"application":return`https://app.writer.com/aistudio/organization/${k}/app/${f.value}`;default:return}}),f=x({get:()=>r.value.content[i.fieldKey]??"",set(k){l(r.value.id,d.value,String(k))}});return(k,b)=>(v(),w("div",{class:"BuilderFieldsWriterResourceId","data-automation-key":i.fieldKey},[(v(),T(kt(y.value),{ref_key:"selectorEl",ref:m,modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=g=>f.value=g)},null,8,["modelValue"])),u.value?(v(),w("a",{key:0,class:"BuilderFieldsWriterResourceId__link",href:u.value,target:"_blank","data-writer-tooltip":E.value},b[1]||(b[1]=[S("i",{class:"material-symbols-outlined"}," open_in_new ",-1)]),8,Zo)):C("",!0)],8,Qo))}}),tt=U(el,[["__scopeId","data-v-1a3ddfd9"]]),tl=["data-automation-key"],nl=q({__name:"BuilderFieldsComponentId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=le(()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:i,fieldKey:a}=te(l),d=x(()=>t.getComponentById(i.value));function*r(){yield t.getComponentById("root"),yield*t.getComponentsNested("root")}const m=x(()=>{const k=[];for(const b of r()){const g=t.getComponentDefinition(b==null?void 0:b.type);if(!(g!=null&&g.events)||Object.keys(g.events).length===0)continue;const{name:I,previewText:B,possibleImageUrls:O}=Bt(t,b),M=O.value,F=b.id;k.push({value:F,label:B.value||I.value,detail:B.value?I.value:void 0,icon:M})}return k}),y=x({get:()=>d.value.content[l.fieldKey]??"",set(k){o(d.value.id,a.value,String(k))}}),E=x(()=>{let k=y.value;for(;k;){const b=t.getComponentById(k);if(b.type==="page")return b.id;k=b.parentId}}),u=x(()=>t.getComponentById(y.value));function f(){!y.value||!u.value||(E.value&&(s.mode.value="ui",t.setActivePageId(E.value)),s.setSelection(y.value,null,"click"))}return(k,b)=>(v(),w("div",{class:"BuilderFieldsComponentId","data-automation-key":l.fieldKey},[V(_(e),{modelValue:y.value,"onUpdate:modelValue":b[0]||(b[0]=g=>y.value=g),options:m.value,"enable-search":""},null,8,["modelValue","options"]),y.value?(v(),T(X,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the element",disabled:!u.value,onClick:f},{default:D(()=>b[1]||(b[1]=[S("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1},8,["disabled"])):C("",!0)],8,tl))}}),ol=U(nl,[["__scopeId","data-v-760b8b8a"]]),ll=["data-automation-key"],sl=q({__name:"BuilderFieldsComponentEventType",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(n){const e=le(()=>se(()=>import("./BuilderSelect-DdIdCGqL.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),t=L(W.core),s=L(W.builderManager),{setContentValue:o}=ee(t,s),l=n,{componentId:i,fieldKey:a}=te(l),d=x(()=>t.getComponentById(i.value)),r=x(()=>{var E;return t.getComponentDefinition((E=d.value)==null?void 0:E.type)}),m=x(()=>{var b,g;const E=(g=Object.entries(((b=r.value)==null?void 0:b.fields)??{}).find(([,I])=>I.type===G.ComponentId))==null?void 0:g.at(0);if(E===void 0)return[];const u=d.value.content[String(E)],f=t.getComponentById(u),k=t.getComponentDefinition(f==null?void 0:f.type);return k!=null&&k.events?Object.keys(k.events).map(I=>({value:I,label:I})):[]}),y=x({get:()=>d.value.content[l.fieldKey]??"",set(E){o(d.value.id,a.value,String(E))}});return(E,u)=>(v(),w("div",{class:"BuilderFieldsComponentEventType","data-automation-key":l.fieldKey},[m.value.length?(v(),T(_(e),{key:0,modelValue:y.value,"onUpdate:modelValue":u[0]||(u[0]=f=>y.value=f),options:m.value,"hide-icons":""},null,8,["modelValue","options"])):(v(),T(re,{key:1,modelValue:y.value,"onUpdate:modelValue":u[1]||(u[1]=f=>y.value=f)},null,8,["modelValue"]))],8,ll))}});function il(n,e){const{getEvaluatedFields:t}=nt(n),s=x(()=>{var a;const l=(a=e.value.at(-1))==null?void 0:a.componentId;if(l===void 0)return{};const i=n.getComponentById(l);return i?n.getComponentDefinition(i.type).fields??{}:{}}),o=x(()=>t(e.value));return x(()=>Object.entries(s.value).reduce((l,[i,a])=>{const d=o.value[i].value;return l[i]=al(a,d),l},{}))}function al(n,e){let t=n.validator;if(t===void 0&&typeof n.options=="object"&&n.options!==null&&Object.keys(n.options).length>0&&(t=It(Object.keys(n.options))),t===void 0)return;const s=St(t);if(!(s(e)||s.errors===void 0))return ul(s.errors)}function rl(n){var t;if(n.keyword==="format"&&Object.values(Et).includes(n.params.format))return Ct[n.params.format].errorMessage;let e="";return n.instancePath&&(e+=`${n.instancePath} `),e+=n.message,Array.isArray((t=n.params)==null?void 0:t.allowedValues)&&(e+=`: ${n.params.allowedValues.join(", ")}`),e}function ul(n){return n.map(rl).join(`
`)}const dl={key:0,class:"BuilderSettingsProperties"},cl={key:0,class:"BuilderSettingsProperties__category__title"},pl=q({__name:"BuilderSettingsProperties",setup(n){const e=L(W.core),t=L(W.builderManager),s=H(new Set),o=x(()=>{var f,k;return wt((k=(f=t.firstSelectedItem)==null?void 0:f.value)==null?void 0:k.instancePath)}),l=x(()=>e.getComponentById(t.firstSelectedId.value)),i=x(()=>{const{type:f}=l.value;return e.getComponentDefinition(f)}),a=x(()=>{var f;return(f=i.value)==null?void 0:f.fields});function d(f){return f.type===G.Code||f.type===G.Object||f.control===Le.Textarea}const r=il(e,o),m=x(()=>[de.General,de.Style,de.Tools].filter(f=>{var k;return(k=y.value[f])==null?void 0:k.length})),y=x(()=>{const f=Object.entries(a.value);return{[de.General]:f.filter(([b,g])=>!g.category||g.category==de.General),[de.Style]:f.filter(([b,g])=>g.category==de.Style),[de.Tools]:f.filter(([b,g])=>g.category==de.Tools)}});function E(f){s.value.add(f)}function u(f){s.value.delete(f)}return(f,k)=>_(t).isSingleSelectionActive&&a.value?(v(),w("div",dl,[(v(!0),w(Z,null,ve(m.value,b=>(v(),w("div",{key:b,class:"BuilderSettingsProperties__category"},[y.value[b].length>0&&b!=="General"?(v(),w("h4",cl,Y(b),1)):C("",!0),(v(!0),w(Z,null,ve(y.value[b],([g,I])=>(v(),w("div",{key:g,class:"BuilderSettingsProperties__category__field"},[V(he,{label:b==="Tools"?void 0:I.name??g,hint:I.desc,unit:I.type,error:_(r)[g],"is-expansible":d(I),onExpand:B=>E(g),onShrink:B=>u(g)},{default:D(()=>[I.type==_(G).Color?(v(),T(Nn,{key:0,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).Shadow?(v(),T(bo,{key:1,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).KeyValue?(v(),T(Gn,{key:2,"field-key":g,"component-id":l.value.id,"instance-path":o.value,error:_(r)[g]},null,8,["field-key","component-id","instance-path","error"])):C("",!0),I.type==_(G).Text||I.type==_(G).Boolean?(v(),T(Pe,{key:3,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).BlueprintKey?(v(),T(Ho,{key:4,"field-key":g,"component-id":l.value.id},null,8,["field-key","component-id"])):C("",!0),I.type==_(G).Handler?(v(),T(Xo,{key:5,"field-key":g,"component-id":l.value.id},null,8,["field-key","component-id"])):C("",!0),I.type==_(G).Number?(v(),T(Pe,{key:6,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).IdKey?(v(),T(Pe,{key:7,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).Object?(v(),T(pt,{key:8,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).Width?(v(),T(Bo,{key:9,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).HAlign?(v(),T(et,{key:10,direction:"horizontal","field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).VAlign?(v(),T(et,{key:11,direction:"vertical","field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).Padding?(v(),T(eo,{key:12,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).Tools?(v(),T(Uo,{key:13,"field-key":g,"component-id":l.value.id},null,8,["field-key","component-id"])):C("",!0),I.type==_(G).Code?(v(),T(zo,{key:14,"field-key":g,"component-id":l.value.id,"is-expanded":s.value.has(g)},null,8,["field-key","component-id","is-expanded"])):C("",!0),I.type==_(G).WriterGraphId?(v(),T(tt,{key:15,"field-key":g,"component-id":l.value.id,error:_(r)[g],"resource-type":"graph"},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).WriterAppId?(v(),T(tt,{key:16,"field-key":g,"component-id":l.value.id,error:_(r)[g],"resource-type":"application"},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).ComponentId?(v(),T(ol,{key:17,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0),I.type==_(G).ComponentEventType?(v(),T(sl,{key:18,"field-key":g,"component-id":l.value.id,error:_(r)[g]},null,8,["field-key","component-id","error"])):C("",!0)]),_:2},1032,["label","hint","unit","error","is-expansible","onExpand","onShrink"])]))),128))]))),128))])):C("",!0)}}),vl=U(pl,[["__scopeId","data-v-7d019e87"]]),fl={class:"BuilderSectionTitle"},ml={class:"material-symbols-outlined"},hl=q({__name:"BuilderSectionTitle",props:{icon:{type:String,required:!0},label:{type:String,required:!0}},setup(n){return(e,t)=>(v(),w("div",fl,[S("i",ml,Y(n.icon),1),S("h3",null,Y(n.label),1)]))}}),vt=U(hl,[["__scopeId","data-v-731e03f5"]]),yl={key:0,class:"BuilderSettingsBinding"},gl={class:"main"},_l='Links this component to a state element, in a two-way fashion. Reference the state element directly, i.e. use "my_var" instead of "@{my_var}".',bl=q({__name:"BuilderSettingsBinding",setup(n){const e=L(W.core),t=L(W.builderManager),{setBinding:s}=ee(e,t),o=x(()=>e.getComponentById(t.firstSelectedId.value));return(l,i)=>_(t).isSingleSelectionActive?(v(),w("div",yl,[V(vt,{icon:"link",label:"Binding"}),S("div",gl,[V(he,{label:"State element",hint:_l},{default:D(()=>{var a;return[V(ae,{type:"state",value:(a=o.value.binding)==null?void 0:a.stateRef,placeholder:"my_var",onInput:i[0]||(i[0]=d=>_(s)(o.value.id,d.target.value))},null,8,["value"])]}),_:1})])])):C("",!0)}}),kl=U(bl,[["__scopeId","data-v-51a930b8"]]),Il={key:0,class:"BuilderSettingsVisibility"},Sl={class:"main"},El={class:"flexRow"},Cl=["checked"],xl='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',wl=q({__name:"BuilderSettingsVisibility",setup(n){const e=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],t=x({get(){const a=i.value.visible;return(a==null?void 0:a.expression)==="custom"?"custom":a===void 0||a.expression===!0?"yes":"no"},set(a){var d,r;a==="custom"?l(i.value.id,"custom",(d=i.value.visible)==null?void 0:d.binding,(r=i.value.visible)==null?void 0:r.reversed):l(i.value.id,a==="yes")}}),s=L(W.core),o=L(W.builderManager),{setVisibleValue:l}=ee(s,o),i=x(()=>s.getComponentById(o.firstSelectedId.value));return(a,d)=>_(o).isSingleSelectionActive?(v(),w("div",Il,[V(vt,{icon:"visibility",label:"Visibility"}),S("div",Sl,[V(ge,{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=r=>t.value=r),tabs:e},null,8,["modelValue"]),typeof i.value.visible<"u"&&i.value.visible.expression==="custom"?(v(),T(he,{key:0,hint:xl},{default:D(()=>[V(ae,{value:i.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:d[1]||(d[1]=r=>_(l)(i.value.id,"custom",r.target.value,i.value.visible.reversed))},null,8,["value"]),S("div",El,[S("input",{type:"checkbox",checked:i.value.visible.reversed,onInput:d[2]||(d[2]=r=>_(l)(i.value.id,"custom",i.value.visible.binding,r.target.checked))},null,40,Cl),d[3]||(d[3]=S("span",null,"Reverse",-1))])]),_:1})):C("",!0)])])):C("",!0)}}),Bl=U(wl,[["__scopeId","data-v-23772341"]]),$l=["data-writer-tooltip"],Al=q({__name:"BuilderCopyText",setup(n){const e=H("Copy to clipboard");function t(s){const o=s.target.textContent;navigator.clipboard.writeText(o),e.value="Copied!",setTimeout(()=>{e.value="Copy to clipboard"},1e3)}return(s,o)=>(v(),w("span",{class:"BuilderCopyText","data-writer-tooltip":e.value,onClick:t},[Te(s.$slots,"default",{},void 0,!0)],8,$l))}}),Ml=U(Al,[["__scopeId","data-v-46ba30f4"]]),Tl={key:0,class:"BuilderSettingsAPICode"},Fl={class:"modalContents"},Ol={class:"codeContainer"},Vl={class:"codeContainer"},Rl={key:1},Pl=q({__name:"BuilderSettingsAPICode",setup(n){const e=L(W.core),t=L(W.builderManager),s=x(()=>e.getComponentById(t.firstSelectedId.value)),o=x(()=>{var E;return((E=s.value)==null?void 0:E.type)==="blueprints_blueprint"}),l=x(()=>{var E;if(o.value)return(E=s.value.content)==null?void 0:E.key}),i=H(!1),a=H(""),d=H(""),r=H(!1);function m(){y(),i.value=!0}async function y(){const E=await e.hashMessage(`create_job_${l.value}`);if(r.value=!!E,!r.value)return;const u=window.location.origin+window.location.pathname;a.value=`
curl --location --request POST '${u}api/job/blueprint/${l.value}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: Bearer ${E}' \\
--data '{
    "my_var": 1
}'`.trim(),d.value=`
curl --location '${u}api/job/JOB_ID' \\
--header 'Authorization: Bearer JOB_TOKEN'`.trim()}return(E,u)=>o.value?(v(),w("div",Tl,[i.value?(v(),T(Oe,{key:0,title:"API Code","display-close-button":"",hint:r.value?"Note: For API calls to work, the --enable-jobs-api flag must be active.":void 0,onClose:u[2]||(u[2]=f=>i.value=!1)},{default:D(()=>[S("div",Fl,[r.value?(v(),w(Z,{key:0},[u[3]||(u[3]=S("p",null," The following call will create the job and provide you with a job ID and a job token. ",-1)),S("div",Ol,[V(Ge,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=f=>a.value=f),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),u[4]||(u[4]=S("p",null," Using the job ID and token obtained in the previous call, check the status of the job. You can use the code below, after replacing JOB_ID and JOB_TOKEN for the right values. ",-1)),S("div",Vl,[V(Ge,{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=f=>d.value=f),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])])],64)):(v(),w("p",Rl," API code cannot be generated. Please make sure the environment variable WRITER_SECRET_KEY has been set up. "))])]),_:1},8,["hint"])):C("",!0),l.value?(v(),T(X,{key:1,variant:"tertiary",size:"small",onClick:m},{default:D(()=>u[5]||(u[5]=[S("i",{class:"material-symbols-outlined"}," code ",-1),ie(" Call via API")])),_:1})):(v(),T(X,{key:2,disabled:!0,variant:"tertiary",size:"small","data-writer-tooltip":`You need to specify a blueprint key before this blueprint can be
				used in the UI or called via API.`},{default:D(()=>u[6]||(u[6]=[S("i",{class:"material-symbols-outlined"}," code ",-1),ie(" Call via API")])),_:1}))])):C("",!0)}}),Ll=U(Pl,[["__scopeId","data-v-260b939f"]]),Wl={class:"BuilderSettingsMain"},jl={key:0,class:"BuilderSettingsMain__description"},Dl={key:1,class:"warning cmc-warning"},Nl=["inert"],ql={class:"sections debug"},Ul=q({__name:"BuilderSettingsMain",setup(n){const e=le({loader:()=>se(()=>import("./BuilderSettingsHandlers-BX8yJpMc.js"),__vite__mapDeps([17,1,2,7,8,9,10,11,18,19]),import.meta.url),loadingComponent:be}),t=L(W.core),s=L(W.builderManager),o=x(()=>t.getComponentById(s.firstSelectedId.value)),l=x(()=>o.value.isCodeManaged),i=x(()=>s.isSingleSelectionActive.value?!a.value.toolkit||a.value.toolkit=="core":!1),a=x(()=>{const{type:r}=o.value;return t.getComponentDefinition(r)});xe(o,r=>{r||s.setSelection(null)});const d=x(()=>{var r;return Object.values(((r=a.value)==null?void 0:r.events)??{}).some(m=>m.bindable)});return(r,m)=>(v(),w("div",Wl,[a.value.description?(v(),w("p",jl,Y(a.value.description),1)):C("",!0),l.value?(v(),w("p",Dl,m[0]||(m[0]=[S("i",{class:"material-symbols-outlined"},"warning",-1),S("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1)]))):C("",!0),S("div",{class:"sections",inert:l.value},[V(vl),i.value?(v(),w(Z,{key:0},[d.value?(v(),T(kl,{key:0})):C("",!0),V(_(e)),V(Bl)],64)):C("",!0),V(Ll,null,{default:D(()=>m[1]||(m[1]=[ie("Execute via API")])),_:1})],8,Nl),S("div",ql,[S("p",null,[m[2]||(m[2]=ie(" Component id: ")),V(Ml,null,{default:D(()=>[ie(Y(_(s).firstSelectedId.value),1)]),_:1})])])]))}}),Kl=U(Ul,[["__scopeId","data-v-4d40aa9a"]]),zl={key:0,class:"collapser"},Yl={key:1,class:"titleBar"},Gl=["data-writer-tooltip"],Hl=q({__name:"BuilderSettings",setup(n){xt(r=>({"56a3fa32":_(t).getMode()=="blueprints"?"82px":"20px"}));const e=L(W.core),t=L(W.builderManager),s=H(!1),o=x(()=>e.getComponentById(t.firstSelectedId.value)),l=x(()=>t.selectionStatus.value===Me.Multiple?!0:t.isSettingsBarCollapsed.value),i=x(()=>t.selection.value.length);function a(){t.isSettingsBarCollapsed.value=!t.isSettingsBarCollapsed.value}const d=x(()=>{const{type:r}=o.value;return e.getComponentDefinition(r)});return xe(o,r=>{r||t.setSelection(null)}),(r,m)=>_(t).selectionStatus.value!==_(Me).None?(v(),w("div",{key:0,class:Ve(["BuilderSettings",{"BuilderSettings--collapsed":l.value,"BuilderSettings--miniDocActive":s.value}])},[_(t).isSingleSelectionActive.value?(v(),w("div",zl,[l.value?(v(),T(X,{key:0,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:a},{default:D(()=>m[0]||(m[0]=[S("i",{class:"material-symbols-outlined"},"settings",-1)])),_:1})):(v(),T(X,{key:1,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:a},{default:D(()=>m[1]||(m[1]=[S("i",{class:"material-symbols-outlined"},"double_arrow",-1)])),_:1}))])):C("",!0),_(t).isSingleSelectionActive?(v(),w("div",Yl,[S("div",null,Y(d.value.name),1)])):C("",!0),_(t).selectionStatus.value===_(Me).Multiple?(v(),w("div",{key:2,class:"BuilderSettings__selectionCount","data-writer-tooltip-placement":"left","data-writer-tooltip":`${i.value} components selected`},[S("p",null,Y(i.value),1)],8,Gl)):C("",!0),V(Ft,{class:"actions"}),V(Kl,{inert:l.value,class:"main"},null,8,["inert"])],2)):C("",!0)}}),os=U(Hl,[["__scopeId","data-v-6524c627"]]);export{os as default};
