"use strict";(self.webpackChunkmlflow_oidc_auth_front=self.webpackChunkmlflow_oidc_auth_front||[]).push([["main"],{113:(v,M,o)=>{o.d(M,{D2:()=>n,RU:()=>s,gA:()=>e});const e={SNACK_BAR_DURATION:7e3,DEBOUNCE_TIME:300};var n=function(r){return r.EXPERIMENT="experiment",r.MODEL="model",r.GROUP="group",r.PROMPT="prompt",r.USER="user",r.SERVICE_ACCOUNT="service account",r}(n||{}),s=function(r){return r.Home="home",r.Manage="manage",r}(s||{})},300:(v,M,o)=>{o.d(M,{G:()=>u});var e=o(8434),s=(o(4049),o(5975)),r=o(5911),S=o(1975),t=o(1997),P=o(5360),I=o(7941),g=o(178),F=o(8834),f=o(6850),O=o(9115),R=o(3996),i=o(9183),N=o(8822),a=o(1360);const p=[I.tP,P.R,g.fS,s.m_,F.Hl,f.RI,O.Cn,R.hM,i.D6,N._T,r.s5,S.Y,t.w];let c=(()=>{class l{static{this.\u0275fac=function(D){return new(D||l)}}static{this.\u0275mod=a.$C({type:l})}static{this.\u0275inj=a.G2t({providers:[{provide:f.bn,useValue:{animationDuration:"0ms"}}],imports:[p,I.tP,P.R,g.fS,s.m_,F.Hl,f.RI,O.Cn,R.hM,i.D6,N._T,r.s5,S.Y,t.w]})}}return l})();var T=o(9417),h=o(5380),_=o(6077),C=o(3165),U=o(4267);let u=(()=>{class l{static{this.\u0275fac=function(D){return new(D||l)}}static{this.\u0275mod=a.$C({type:l})}static{this.\u0275inj=a.G2t({imports:[c,e.MD,T.YN,_.UN,C.q1,T.X1,h.g7,U._S,c,U._S]})}}return l})()},2299:(v,M,o)=>{o.d(M,{H:()=>e});const e={ALL_EXPERIMENTS:"/api/2.0/mlflow/experiments",ALL_MODELS:"/api/2.0/mlflow/registered-models",ALL_PROMPTS:"/api/2.0/mlflow/prompts",ALL_GROUPS:"/api/2.0/mlflow/groups",EXPERIMENTS_FOR_GROUP:"/api/2.0/mlflow/groups/${groupName}/experiments",EXPERIMENTS_FOR_USER:"/api/2.0/mlflow/users/${userName}/experiments",USERS_FOR_EXPERIMENT:"/api/2.0/mlflow/experiments/${experimentName}/users",MODELS_FOR_GROUP:"/api/2.0/mlflow/groups/${groupName}/registered-models",MODELS_FOR_USER:"/api/2.0/mlflow/users/${userName}/registered-models",USERS_FOR_MODEL:"/api/2.0/mlflow/registered-models/${modelName}/users",PROMPTS_FOR_GROUP:"/api/2.0/mlflow/groups/${groupName}/prompts",PROMPTS_FOR_USER:"/api/2.0/mlflow/users/${userName}/prompts",USERS_FOR_PROMPT:"/api/2.0/mlflow/prompts/${promptName}/users",CREATE_EXPERIMENT_PERMISSION:"/api/2.0/mlflow/experiments/permissions/create",UPDATE_EXPERIMENT_PERMISSION:"/api/2.0/mlflow/experiments/permissions/update",DELETE_EXPERIMENT_PERMISSION:"/api/2.0/mlflow/experiments/permissions/delete",CREATE_MODEL_PERMISSION:"/api/2.0/mlflow/registered-models/permissions/create",UPDATE_MODEL_PERMISSION:"/api/2.0/mlflow/registered-models/permissions/update",DELETE_MODEL_PERMISSION:"/api/2.0/mlflow/registered-models/permissions/delete",CREATE_PROMPT_PERMISSION:"/api/2.0/mlflow/prompts/permissions/create",UPDATE_PROMPT_PERMISSION:"/api/2.0/mlflow/prompts/permissions/update",DELETE_PROMPT_PERMISSION:"/api/2.0/mlflow/prompts/permissions/delete",CREATE_USER:"/api/2.0/mlflow/users/create",DELETE_USER:"/api/2.0/mlflow/users/delete",GET_ALL_USERS:"/api/2.0/mlflow/users",GET_ACCESS_TOKEN:"/api/2.0/mlflow/users/access-token",GET_CURRENT_USER:"/api/2.0/mlflow/users/current",CREATE_GROUP_EXPERIMENT_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/experiments/create",DELETE_GROUP_EXPERIMENT_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/experiments/delete",UPDATE_GROUP_EXPERIMENT_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/experiments/update",CREATE_GROUP_MODEL_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/registered-models/create",DELETE_GROUP_MODEL_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/registered-models/delete",UPDATE_GROUP_MODEL_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/registered-models/update",CREATE_GROUP_PROMPT_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/prompts/create",DELETE_GROUP_PROMPT_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/prompts/delete",UPDATE_GROUP_PROMPT_PERMISSION:"/api/2.0/mlflow/groups/${groupName}/prompts/update"}},3160:(v,M,o)=>{o.d(M,{uR:()=>R,qN:()=>I,EE:()=>S,jd:()=>g,fo:()=>t,vH:()=>O,Je:()=>P.J});var e=o(6354),n=o(2299),s=o(1360),r=o(3165);let S=(()=>{class i{constructor(a){this.http=a}getAllModels(){return this.http.get(n.H.ALL_MODELS)}getModelsForUser(a){const p=n.H.MODELS_FOR_USER.replace("${userName}",a);return this.http.get(p).pipe((0,e.T)(c=>c.models))}getUsersForModel(a){const p=n.H.USERS_FOR_MODEL.replace("${modelName}",a);return this.http.get(p)}static{this.\u0275fac=function(p){return new(p||i)(s.KVO(r.Qq))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),t=(()=>{class i{constructor(a){this.http=a}getAllPrompts(){return this.http.get(n.H.ALL_PROMPTS)}getPromptsForUser(a){const p=n.H.PROMPTS_FOR_USER.replace("${userName}",a);return this.http.get(p).pipe((0,e.T)(c=>c.prompts))}getUsersForPrompt(a){const p=n.H.USERS_FOR_PROMPT.replace("${promptName}",a);return this.http.get(p)}static{this.\u0275fac=function(p){return new(p||i)(s.KVO(r.Qq))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var P=o(7875);let I=(()=>{class i{constructor(a){this.http=a}getAllExperiments(){return this.http.get(n.H.ALL_EXPERIMENTS)}getExperimentsForUser(a){const p=n.H.EXPERIMENTS_FOR_USER.replace("${userName}",a);return this.http.get(p).pipe((0,e.T)(({experiments:c})=>c))}getUsersForExperiment(a){const p=n.H.USERS_FOR_EXPERIMENT.replace("${experimentName}",a);return this.http.get(p)}static{this.\u0275fac=function(p){return new(p||i)(s.KVO(r.Qq))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),g=(()=>{class i{constructor(a){this.http=a}createExperimentPermission(a){return this.http.post(n.H.CREATE_EXPERIMENT_PERMISSION,a,{responseType:"text"})}updateExperimentPermission(a){return this.http.patch(n.H.UPDATE_EXPERIMENT_PERMISSION,a,{responseType:"text"})}deleteExperimentPermission(a){return this.http.delete(n.H.DELETE_EXPERIMENT_PERMISSION,{body:a})}createModelPermission(a){return this.http.post(n.H.CREATE_MODEL_PERMISSION,a)}updateModelPermission(a){return this.http.patch(n.H.UPDATE_MODEL_PERMISSION,a,{responseType:"text"})}deleteModelPermission(a){return this.http.delete(n.H.DELETE_MODEL_PERMISSION,{body:a})}createPromptPermission(a){return this.http.post(n.H.CREATE_PROMPT_PERMISSION,a)}updatePromptPermission(a){return this.http.patch(n.H.UPDATE_PROMPT_PERMISSION,a)}deletePromptPermission(a){return this.http.delete(n.H.DELETE_PROMPT_PERMISSION,{body:a})}addExperimentPermissionToGroup(a,p,c){return this.http.post(n.H.CREATE_GROUP_EXPERIMENT_PERMISSION.replace("${groupName}",a),{experiment_id:p,permission:c})}addModelPermissionToGroup(a,p,c){return this.http.post(n.H.CREATE_GROUP_MODEL_PERMISSION.replace("${groupName}",p),{name:a,permission:c})}addPromptPermissionToGroup(a,p,c){return this.http.post(n.H.CREATE_GROUP_PROMPT_PERMISSION.replace("${groupName}",p),{name:a,permission:c})}removeExperimentPermissionFromGroup(a,p){return this.http.delete(n.H.DELETE_GROUP_EXPERIMENT_PERMISSION.replace("${groupName}",a),{body:{experiment_id:p}})}removeModelPermissionFromGroup(a,p){return this.http.delete(n.H.DELETE_GROUP_MODEL_PERMISSION.replace("${groupName}",p),{body:{name:a}})}removePromptPermissionFromGroup(a,p){return this.http.delete(n.H.DELETE_GROUP_PROMPT_PERMISSION.replace("${groupName}",p),{body:{name:a}})}updateExperimentPermissionForGroup(a,p,c){return this.http.patch(n.H.UPDATE_GROUP_EXPERIMENT_PERMISSION.replace("${groupName}",a),{experiment_id:p,permission:c})}updateModelPermissionForGroup(a,p,c){return this.http.patch(n.H.UPDATE_GROUP_MODEL_PERMISSION.replace("${groupName}",p),{name:a,permission:c})}updatePromptPermissionForGroup(a,p,c){return this.http.patch(n.H.UPDATE_GROUP_PROMPT_PERMISSION.replace("${groupName}",p),{name:a,permission:c})}static{this.\u0275fac=function(p){return new(p||i)(s.KVO(r.Qq))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var F=o(113),f=o(8822);let O=(()=>{class i{constructor(a){this.snackBarService=a}openSnackBar(a){return this.snackBarService.open(a,"OK",{duration:F.gA.SNACK_BAR_DURATION})}static{this.\u0275fac=function(p){return new(p||i)(s.KVO(f.UG))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),R=(()=>{class i{constructor(){}getUserInfo(){return this.user}setUserInfo(a){this.user=a}static{this.\u0275fac=function(p){return new(p||i)}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},3763:(v,M,o)=>{var e=o(5034),n=o(1360),s=o(33),r=o(113);const S=[{path:r.RU.Home,loadChildren:()=>o.e("src_app_features_home-page_home-page_module_ts").then(o.bind(o,1447)).then(u=>u.HomePageModule),data:{breadcrumb:{skip:!0}}},{path:r.RU.Manage,loadChildren:()=>o.e("src_app_features_admin-page_admin-page_module_ts").then(o.bind(o,1046)).then(u=>u.AdminPageModule)},{path:"**",redirectTo:r.RU.Home}];let t=(()=>{class u{static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=n.$C({type:u})}static{this.\u0275inj=n.G2t({imports:[s.iI.forRoot(S,{useHash:!0}),s.iI]})}}return u})();var P=o(980),I=o(3160),g=o(8434),F=o(8342),f=o(9381),O=o(9183),R=o(4267);function i(u,l){if(1&u&&(n.qex(0),n.nrm(1,"ml-header",2),n.j41(2,"div",3)(3,"div",4),n.nrm(4,"xng-breadcrumb"),n.k0s(),n.nrm(5,"router-outlet"),n.k0s(),n.bVm()),2&u){const m=n.XpG();n.R7$(),n.Y8G("name",m.user.display_name)("admin",m.user.is_admin)}}function N(u,l){1&u&&(n.j41(0,"div",5),n.nrm(1,"mat-spinner"),n.k0s())}let a=(()=>{class u{constructor(m,d){this.userDataService=m,this.authService=d,this.loading=!1}ngOnInit(){this.loading=!1,this.userDataService.getCurrentUser().pipe((0,P.j)(()=>this.loading=!1)).subscribe(m=>{this.authService.setUserInfo(m.user),this.user=m.user})}static{this.\u0275fac=function(d){return new(d||u)(n.rXU(I.Je),n.rXU(I.uR))}}static{this.\u0275cmp=n.VBU({type:u,selectors:[["app-root"]],standalone:!1,decls:3,vars:2,consts:[["loader",""],[4,"ngIf","ngIfElse"],[3,"name","admin"],[1,"container"],[1,"my-3"],[1,"loader","d-flex","justify-content-center","align-items-center"]],template:function(d,D){if(1&d&&n.DNE(0,i,6,2,"ng-container",1)(1,N,2,0,"ng-template",null,0,n.C5r),2&d){const A=n.sdS(2);n.Y8G("ngIf",!D.loading&&D.user)("ngIfElse",A)}},dependencies:[g.bT,F.n3,f.l,O.LG,R.Dg],styles:[".loader[_ngcontent-%COMP%]{height:100vh}"]})}}return u})();var p=o(7741),c=o(300),T=o(3165),h=o(9437),_=o(8810);let C=(()=>{class u{constructor(m){this.snackBarService=m}intercept(m,d){return d.handle(m).pipe((0,h.W)(D=>{let A=D.error instanceof ErrorEvent?`Error: ${D.error.message}`:`Error Code: ${D.status}\nMessage: ${D.message}`;return this.snackBarService.openSnackBar(A),(0,_.$)(()=>new Error(A))}))}static{this.\u0275fac=function(d){return new(d||u)(n.KVO(I.vH))}}static{this.\u0275prov=n.jDH({token:u,factory:u.\u0275fac})}}return u})(),U=(()=>{class u{static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=n.$C({type:u,bootstrap:[a]})}static{this.\u0275inj=n.G2t({providers:[{provide:T.a7,useClass:C,multi:!0}],imports:[e.Bb,t,p.wb,c.G]})}}return u})();(0,n.SmG)(),e.sG().bootstrapModule(U).catch(u=>console.error(u))},4049:(v,M,o)=>{o.d(M,{ad:()=>c,BV:()=>C,rm:()=>U.r,rs:()=>O,Kb:()=>N,$5:()=>_,lZ:()=>n.l,Or:()=>e.O});var e=o(5417),n=o(9381),s=o(3996),r=o(9417),S=o(5412),t=o(1360),P=o(9158),I=o(178),g=o(8834),F=o(8434);function f(E,u){if(1&E&&(t.j41(0,"option",6),t.EFF(1),t.k0s()),2&E){const l=u.$implicit;t.Y8G("value",l.value),t.R7$(),t.JRh(l.title)}}let O=(()=>{class E{constructor(l,m,d){this.dialogRef=l,this.data=m,this.fb=d,this.permissions=S.Jj,this.title="",this.permission=new r.MJ}ngOnInit(){this.title=`Edit ${this.data.entity} permissions for ${this.data.targetEntity}`,this.permission=this.fb.control(this.data.currentPermission,r.k0.required)}static{this.\u0275fac=function(m){return new(m||E)(t.rXU(s.CP),t.rXU(s.Vh),t.rXU(r.ok))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["ml-edit-permissions-modal"]],standalone:!1,decls:13,vars:5,consts:[["mat-dialog-title",""],[1,"d-flex","flex-column"],["cdkFocusInitial",""],["matNativeControl","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"mat-dialog-close"],[3,"value"]],template:function(m,d){1&m&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"mat-dialog-content",1)(3,"mat-form-field",2)(4,"mat-label"),t.EFF(5,"Permissions"),t.k0s(),t.j41(6,"select",3),t.DNE(7,f,2,2,"option",4),t.k0s()()(),t.j41(8,"mat-dialog-actions")(9,"button",5),t.EFF(10,"Cancel"),t.k0s(),t.j41(11,"button",5),t.EFF(12,"Ok"),t.k0s()()),2&m&&(t.R7$(),t.JRh(d.title),t.R7$(5),t.Y8G("formControl",d.permission),t.R7$(),t.Y8G("ngForOf",d.permissions),t.R7$(2),t.Y8G("mat-dialog-close",null),t.R7$(2),t.Y8G("mat-dialog-close",d.permission.value))},dependencies:[P.rl,P.nJ,I.fg,g.$z,s.tx,s.BI,s.E7,s.Yi,F.Sq,r.xH,r.y7,r.wz,r.BC,r.l_],encapsulation:2})}}return E})();function R(E,u){if(1&E&&(t.qex(0),t.j41(1,"option",10),t.EFF(2),t.k0s(),t.bVm()),2&E){const l=u.$implicit;t.R7$(),t.Y8G("ngValue",l),t.R7$(),t.JRh(l.name)}}function i(E,u){if(1&E&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&E){const l=u.$implicit;t.Y8G("value",l.value),t.R7$(),t.SpI("",l.title," ")}}let N=(()=>{class E{constructor(l,m){this.data=l,this.fb=m,this.permissions=S.Jj,this.title=""}ngOnInit(){this.title=`Grant ${this.data.entityType} permissions for ${this.data.targetName}`,this.grantPermissionForm=this.fb.group({permission:[S.pF.READ,r.k0.required],entity:[null,r.k0.required]})}compareEntities(l,m){return l&&m?l.id===m.id:l===m}static{this.\u0275fac=function(m){return new(m||E)(t.rXU(s.Vh),t.rXU(r.ok))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["ml-grant-permission-modal"]],standalone:!1,decls:20,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"d-flex","flex-column"],["cdkFocusInitial",""],["matNativeControl","","formControlName","entity",3,"compareWith"],[4,"ngFor","ngForOf"],["matNativeControl","","formControlName","permission"],[3,"value",4,"ngFor","ngForOf"],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close","disabled"],[3,"ngValue"],[3,"value"]],template:function(m,d){1&m&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),t.EFF(6),t.nI1(7,"titlecase"),t.k0s(),t.j41(8,"select",4),t.DNE(9,R,3,2,"ng-container",5),t.k0s()(),t.j41(10,"mat-form-field")(11,"mat-label"),t.EFF(12,"Permissions"),t.k0s(),t.j41(13,"select",6),t.DNE(14,i,2,2,"option",7),t.k0s()()()(),t.j41(15,"mat-dialog-actions")(16,"button",8),t.EFF(17,"Cancel"),t.k0s(),t.j41(18,"button",9),t.EFF(19,"Ok"),t.k0s()()),2&m&&(t.R7$(),t.JRh(d.title),t.R7$(),t.Y8G("formGroup",d.grantPermissionForm),t.R7$(4),t.JRh(t.bMT(7,9,d.data.entityType)),t.R7$(2),t.Y8G("compareWith",d.compareEntities),t.R7$(),t.Y8G("ngForOf",d.data.entities),t.R7$(5),t.Y8G("ngForOf",d.permissions),t.R7$(2),t.Y8G("mat-dialog-close",null),t.R7$(2),t.Y8G("mat-dialog-close",d.grantPermissionForm.value)("disabled",d.grantPermissionForm.invalid))},dependencies:[P.rl,P.nJ,I.fg,g.$z,s.tx,s.BI,s.E7,s.Yi,F.Sq,r.xH,r.y7,r.wz,r.BC,r.cb,r.j4,r.JD,F.PV],encapsulation:2})}}return E})();var a=o(5975),p=o(8361);let c=(()=>{class E{constructor(l){this.data=l,this.token=""}ngOnInit(){this.token=this.data.token}copyInputMessage(l){l.select(),document.execCommand("copy"),l.setSelectionRange(0,0)}static{this.\u0275fac=function(m){return new(m||E)(t.rXU(s.Vh))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["ml-access-key-modal"]],standalone:!1,decls:14,vars:2,consts:[["apiKeyInput",""],["mat-dialog-title",""],["matInput","","type","text","readonly","",3,"ngModelChange","ngModel"],["matSuffix","","mat-icon-button","","cdkFocusInitial","","aria-label","copy",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(m,d){if(1&m){const D=t.RV6();t.j41(0,"h2",1),t.EFF(1,"Access Key"),t.k0s(),t.j41(2,"mat-dialog-content")(3,"mat-form-field")(4,"mat-label"),t.EFF(5,"Access Key"),t.k0s(),t.j41(6,"input",2,0),t.mxI("ngModelChange",function($){return t.eBV(D),t.DH7(d.token,$)||(d.token=$),t.Njj($)}),t.k0s(),t.j41(8,"button",3),t.bIt("click",function(){t.eBV(D);const $=t.sdS(7);return t.Njj(d.copyInputMessage($))}),t.j41(9,"mat-icon"),t.EFF(10,"content_copy"),t.k0s()()()(),t.j41(11,"mat-dialog-actions")(12,"button",4),t.EFF(13,"Ok"),t.k0s()()}2&m&&(t.R7$(6),t.R50("ngModel",d.token),t.R7$(6),t.Y8G("mat-dialog-close",null))},dependencies:[P.rl,P.nJ,P.yw,I.fg,a.An,g.$z,p.iY,s.tx,s.BI,s.E7,s.Yi,r.me,r.BC,r.vS],encapsulation:2})}}return E})();function T(E,u){if(1&E&&(t.j41(0,"option",8),t.EFF(1),t.k0s()),2&E){const l=u.$implicit;t.Y8G("value",l),t.R7$(),t.JRh(l)}}function h(E,u){if(1&E&&(t.j41(0,"option",8),t.EFF(1),t.k0s()),2&E){const l=u.$implicit;t.Y8G("value",l.value),t.R7$(),t.JRh(l.title)}}let _=(()=>{class E{constructor(l,m){this.data=l,this.fb=m,this.permissions=S.Jj,this.title=""}ngOnInit(){this.title="Grant permissions",this.form=this.fb.group({user:[null,r.k0.required],permission:[S.pF.READ,r.k0.required]})}static{this.\u0275fac=function(m){return new(m||E)(t.rXU(s.Vh),t.rXU(r.ok))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["ml-grant-user-permissions"]],standalone:!1,decls:19,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"d-flex","flex-column"],["matNativeControl","","formControlName","user"],[3,"value",4,"ngFor","ngForOf"],["matNativeControl","","formControlName","permission"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(m,d){1&m&&(t.j41(0,"h2",0),t.EFF(1),t.k0s(),t.j41(2,"mat-dialog-content",1)(3,"div",2)(4,"mat-form-field")(5,"mat-label"),t.EFF(6,"Users"),t.k0s(),t.j41(7,"select",3),t.DNE(8,T,2,2,"option",4),t.k0s()(),t.j41(9,"mat-form-field")(10,"mat-label"),t.EFF(11,"Permissions"),t.k0s(),t.j41(12,"select",5),t.DNE(13,h,2,2,"option",4),t.k0s()()()(),t.j41(14,"mat-dialog-actions")(15,"button",6),t.EFF(16,"Cancel"),t.k0s(),t.j41(17,"button",7),t.EFF(18,"Ok"),t.k0s()()),2&m&&(t.R7$(),t.JRh(d.title),t.R7$(),t.Y8G("formGroup",d.form),t.R7$(6),t.Y8G("ngForOf",d.data.users),t.R7$(5),t.Y8G("ngForOf",d.permissions),t.R7$(2),t.Y8G("mat-dialog-close",null),t.R7$(2),t.Y8G("mat-dialog-close",d.form.value)("disabled",d.form.invalid))},dependencies:[P.rl,P.nJ,I.fg,g.$z,s.tx,s.BI,s.E7,s.Yi,F.Sq,r.xH,r.y7,r.wz,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}}return E})(),C=(()=>{class E{static{this.\u0275fac=function(m){return new(m||E)}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["ml-confirm-modal"]],standalone:!1,decls:9,vars:2,consts:[["mat-dialog-title",""],[1,"d-flex","flex-column"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(m,d){1&m&&(t.j41(0,"h2",0),t.EFF(1,"Action confirmations"),t.k0s(),t.j41(2,"mat-dialog-content",1),t.EFF(3," Please confirm your action\n"),t.k0s(),t.j41(4,"mat-dialog-actions")(5,"button",2),t.EFF(6,"Cancel"),t.k0s(),t.j41(7,"button",3),t.EFF(8,"Ok"),t.k0s()()),2&m&&(t.R7$(5),t.Y8G("mat-dialog-close",!1),t.R7$(2),t.Y8G("mat-dialog-close",!0))},dependencies:[g.$z,s.tx,s.BI,s.E7,s.Yi],encapsulation:2})}}return E})();var U=o(9994)},5412:(v,M,o)=>{o.d(M,{Jj:()=>s,pF:()=>e,tX:()=>n});var e=function(r){return r.EDIT="EDIT",r.READ="READ",r.MANAGE="MANAGE",r.NO_PERMISSIONS="NO_PERMISSIONS",r}(e||{}),n=function(r){return r.USER="user",r.GROUP="group",r.FALLBACK="fallback",r}(n||{});const s=[{value:e.EDIT,title:"Edit"},{value:e.READ,title:"Read"},{value:e.MANAGE,title:"Manage"},{value:e.NO_PERMISSIONS,title:"No permissions"}]},5417:(v,M,o)=>{o.d(M,{O:()=>p});var e=o(1360),n=o(7941),s=o(9158),r=o(178),S=o(5975),t=o(8361),P=o(9115),I=o(8434);function g(c,T){if(1&c&&(e.j41(0,"th",11),e.EFF(1),e.k0s()),2&c){const h=e.XpG().$implicit;e.R7$(),e.SpI(" ",h.title,"")}}function F(c,T){if(1&c&&(e.j41(0,"td",12),e.EFF(1),e.k0s()),2&c){const h=T.$implicit,_=e.XpG().$implicit;e.R7$(),e.SpI(" ",h[_.key]," ")}}function f(c,T){if(1&c&&(e.qex(0)(1,6),e.DNE(2,g,2,1,"th",7)(3,F,2,1,"td",8),e.bVm()()),2&c){const h=T.$implicit;e.R7$(),e.Y8G("matColumnDef",h.key)}}function O(c,T){1&c&&(e.j41(0,"th",11),e.EFF(1,"Actions"),e.k0s())}function R(c,T){if(1&c){const h=e.RV6();e.qex(0),e.j41(1,"button",14),e.bIt("click",function(){const C=e.eBV(h).$implicit,U=e.XpG().$implicit,E=e.XpG();return e.Njj(E.handleActionClick(U,C))}),e.j41(2,"mat-icon"),e.EFF(3),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s()(),e.bVm()}if(2&c){const h=T.$implicit;e.R7$(3),e.JRh(h.icon),e.R7$(2),e.JRh(h.name)}}function i(c,T){if(1&c&&(e.j41(0,"td",12)(1,"button",13)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,1),e.DNE(6,R,6,2,"ng-container",5),e.k0s()()),2&c){const h=e.sdS(5),_=e.XpG();e.R7$(),e.Y8G("matMenuTriggerFor",h),e.R7$(5),e.Y8G("ngForOf",_.actions)}}function N(c,T){1&c&&e.nrm(0,"tr",15)}function a(c,T){1&c&&e.nrm(0,"tr",16)}let p=(()=>{class c{constructor(){this.columnConfig=[],this.data=[],this.actions=[],this.action=new e.bkB,this.dataSource=new n.I6,this.columns=[],this.serachValue="",this.columnActionName="actions"}ngOnChanges(h){const _=h.data.currentValue;_&&(this.dataSource=new n.I6(_))}ngOnInit(){const h=this.columnConfig.map(_=>_.key);this.dataSource=new n.I6(this.data),this.columns=h,this.columns=this.actions.length?[this.columnActionName,...h]:h}filter(h){this.dataSource.filter=h.target.value.trim().toLowerCase()}handleActionClick(h,_){this.action.emit({item:h,action:_})}static{this.\u0275fac=function(_){return new(_||c)}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["ml-table"]],inputs:{columnConfig:"columnConfig",data:"data",actions:"actions"},outputs:{action:"action"},standalone:!1,features:[e.OA$],decls:13,vars:5,consts:[["search",""],["menu","matMenu"],[1,"search-section"],["matInput","","type","text",3,"keyup"],["mat-table","",1,"w-100",3,"dataSource"],[4,"ngFor","ngForOf"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(_,C){if(1&_){const U=e.RV6();e.j41(0,"div",2)(1,"mat-form-field")(2,"mat-label"),e.EFF(3,"Search"),e.k0s(),e.j41(4,"input",3,0),e.bIt("keyup",function(u){return e.eBV(U),e.Njj(C.filter(u))}),e.k0s()()(),e.j41(6,"table",4),e.DNE(7,f,4,1,"ng-container",5),e.qex(8,6),e.DNE(9,O,2,0,"th",7)(10,i,7,2,"td",8),e.bVm(),e.DNE(11,N,1,0,"tr",9)(12,a,1,0,"tr",10),e.k0s()}2&_&&(e.R7$(6),e.Y8G("dataSource",C.dataSource),e.R7$(),e.Y8G("ngForOf",C.columnConfig),e.R7$(),e.Y8G("matColumnDef",C.columnActionName),e.R7$(3),e.Y8G("matHeaderRowDef",C.columns),e.R7$(),e.Y8G("matRowDefColumns",C.columns))},dependencies:[n.Zl,n.tL,n.ji,n.cC,n.YV,n.iL,n.KS,n.$R,n.YZ,n.NB,s.rl,s.nJ,r.fg,S.An,t.iY,P.kk,P.fb,P.Cp,I.Sq],styles:[".mat-column-actions{white-space:unset!important;width:90px!important;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;hyphens:auto}"]})}}return c})()},7875:(v,M,o)=>{o.d(M,{J:()=>I});var e=o(2299),n=o(5558),s=o(6354),r=o(7468),S=o(7673),t=o(1360),P=o(3165);let I=(()=>{class g{constructor(f){this.http=f}getCurrentUser(){return this.http.get(e.H.GET_CURRENT_USER).pipe((0,n.n)(f=>{const O=f.username;return(0,r.p)({user:(0,S.of)(f),models:this.http.get(e.H.MODELS_FOR_USER.replace("${userName}",O)),experiments:this.http.get(e.H.EXPERIMENTS_FOR_USER.replace("${userName}",O)),prompts:this.http.get(e.H.PROMPTS_FOR_USER.replace("${userName}",O))}).pipe((0,s.T)(R=>(f.models=R.models.models,f.experiments=R.experiments.experiments,f.prompts=R.prompts.prompts,{user:f,models:R.models.models,experiments:R.experiments.experiments,prompts:R.prompts.prompts})))}))}getAccessKey(){return this.http.get(e.H.GET_ACCESS_TOKEN)}getUserAccessKey(f){return this.http.patch(e.H.GET_ACCESS_TOKEN,{username:f})}getAllUsers(){return this.http.get(e.H.GET_ALL_USERS)}getAllServiceUsers(){return this.http.get(`${e.H.GET_ALL_USERS}?service=true`)}createServiceAccount(f){return this.http.post(e.H.CREATE_USER,f)}deleteUser(f){return this.http.delete(e.H.DELETE_USER,{body:f})}static{this.\u0275fac=function(O){return new(O||g)(t.KVO(P.Qq))}}static{this.\u0275prov=t.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},9381:(v,M,o)=>{o.d(M,{l:()=>F});var e=o(1360),n=o(5975),s=o(8834),r=o(5911),S=o(8434),t=o(33);const P=()=>["/home"],I=()=>["/manage"];function g(f,O){1&f&&(e.qex(0),e.EFF(1,"(Admin)"),e.bVm())}let F=(()=>{class f{constructor(){this.name="",this.admin=!1}ngOnInit(){}logout(){window.location.href="/logout"}static{this.\u0275fac=function(i){return new(i||f)}}static{this.\u0275cmp=e.VBU({type:f,selectors:[["ml-header"]],inputs:{name:"name",admin:"admin"},standalone:!1,decls:21,vars:6,consts:[["color","primary"],[1,"container","d-flex","align-items-center"],[1,"pe-5","fs-16"],["mat-button","",3,"routerLink"],["mat-button","",1,"ms-3",3,"routerLink"],[1,"spacer"],[1,"pe-1","ms-auto","fs-16"],[4,"ngIf"],["mat-button","",3,"click"]],template:function(i,N){1&i&&(e.j41(0,"mat-toolbar",0)(1,"div",1)(2,"span",2),e.EFF(3,"MLFlow Permission Manager"),e.k0s(),e.j41(4,"button",3)(5,"mat-icon"),e.EFF(6,"home"),e.k0s(),e.EFF(7," Home "),e.k0s(),e.j41(8,"button",4)(9,"mat-icon"),e.EFF(10,"manage_accounts"),e.k0s(),e.EFF(11," Manage "),e.k0s(),e.nrm(12,"span",5),e.j41(13,"span",6),e.EFF(14),e.DNE(15,g,2,0,"ng-container",7),e.k0s(),e.j41(16,"button",8),e.bIt("click",function(){return N.logout()}),e.j41(17,"mat-icon"),e.EFF(18,"exit_to_app"),e.k0s(),e.j41(19,"span"),e.EFF(20,"Logout"),e.k0s()()()()),2&i&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(4,P)),e.R7$(4),e.Y8G("routerLink",e.lJ4(5,I)),e.R7$(6),e.SpI(" Hello, ",N.name," "),e.R7$(),e.Y8G("ngIf",N.admin))},dependencies:[n.An,s.$z,r.KQ,S.bT,t.Wk],styles:[".logout[_ngcontent-%COMP%]{margin-left:auto}.fs-16[_ngcontent-%COMP%]{font-size:16px}"]})}}return f})()},9994:(v,M,o)=>{o.d(M,{r:()=>I});var e=o(3996),n=o(9417),s=o(1360),r=o(9158),S=o(178),t=o(8834),P=o(5380);let I=(()=>{class g{constructor(f,O,R){this.dialogRef=f,this.fb=O,this.data=R,this.title=""}ngOnInit(){this.title=this.data?.title||"Create Service Account",this.form=this.fb.group({username:[this.data?.username||"",n.k0.required],display_name:[this.data?.display_name||"",n.k0.required],is_admin:[this.data?.is_admin||!1],is_service_account:[!0]})}syncDisplayName(){const f=this.form.get("username")?.value;this.form.get("display_name")?.dirty||this.form.get("display_name")?.setValue(f)}submit(){this.form.valid&&this.dialogRef.close(this.form.value)}close(){this.dialogRef.close()}static{this.\u0275fac=function(O){return new(O||g)(s.rXU(e.CP),s.rXU(n.ok),s.rXU(e.Vh))}}static{this.\u0275cmp=s.VBU({type:g,selectors:[["ml-create-service-account-modal"]],standalone:!1,decls:18,vars:3,consts:[["mat-dialog-title",""],[1,"d-flex","flex-column",3,"formGroup"],["matInput","","formControlName","username","cdkFocusInitial","",3,"input"],["matInput","","formControlName","display_name"],["formControlName","is_admin"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"click","disabled"]],template:function(O,R){1&O&&(s.j41(0,"h2",0),s.EFF(1),s.k0s(),s.j41(2,"mat-dialog-content",1)(3,"mat-form-field")(4,"mat-label"),s.EFF(5,"Service Account Name"),s.k0s(),s.j41(6,"input",2),s.bIt("input",function(){return R.syncDisplayName()}),s.k0s()(),s.j41(7,"mat-form-field")(8,"mat-label"),s.EFF(9,"Display Name"),s.k0s(),s.nrm(10,"input",3),s.k0s(),s.j41(11,"mat-checkbox",4),s.EFF(12,"Grant Admin Privileges"),s.k0s()(),s.j41(13,"mat-dialog-actions")(14,"button",5),s.bIt("click",function(){return R.close()}),s.EFF(15,"Cancel"),s.k0s(),s.j41(16,"button",6),s.bIt("click",function(){return R.submit()}),s.EFF(17,"Ok"),s.k0s()()),2&O&&(s.R7$(),s.JRh(R.title),s.R7$(),s.Y8G("formGroup",R.form),s.R7$(14),s.Y8G("disabled",R.form.invalid))},dependencies:[r.rl,r.nJ,S.fg,t.$z,e.BI,e.E7,e.Yi,n.me,n.BC,n.cb,n.j4,n.JD,P.So],encapsulation:2})}}return g})()}},v=>{v.O(0,["vendor"],()=>v(v.s=3763)),v.O()}]);