<!-- calibration_chart.html - Calibration curve visualization -->
<div class="calibration-chart">
    <!-- Chart will be rendered here by JavaScript -->
    <div id="calibration-chart-plot" class="chart-plot"></div>
    
    <div class="chart-controls">
        <div class="binning-control">
            <label for="calibration-bin-count">Bin Count:</label>
            <select id="calibration-bin-count" class="bin-selector">
                <option value="10" selected>10 Bins</option>
                <option value="20">20 Bins</option>
                <option value="50">50 Bins</option>
                <option value="adaptive">Adaptive Binning</option>
            </select>
        </div>
        
        <div class="display-options">
            <label>
                <input type="checkbox" id="show-confidence-bands" checked>
                Show Confidence Bands
            </label>
            <label>
                <input type="checkbox" id="show-histogram">
                Show Histogram
            </label>
        </div>
    </div>
    
    <div class="chart-legend">
        <div class="legend-item">
            <div class="legend-color calibration-curve"></div>
            <div class="legend-label">Calibration Curve</div>
        </div>
        <div class="legend-item">
            <div class="legend-color confidence-band"></div>
            <div class="legend-label">95% Confidence Band</div>
        </div>
        <div class="legend-item">
            <div class="legend-color ideal-line"></div>
            <div class="legend-label">Perfect Calibration</div>
        </div>
    </div>
    
    <div class="chart-metrics">
        <div class="metric-item">
            <div class="metric-label">Expected Calibration Error:</div>
            <div class="metric-value" id="ece-value">-</div>
        </div>
        <div class="metric-item">
            <div class="metric-label">Maximum Calibration Error:</div>
            <div class="metric-value" id="mce-value">-</div>
        </div>
        <div class="metric-item">
            <div class="metric-label">Brier Score:</div>
            <div class="metric-value" id="brier-score-value">-</div>
        </div>
    </div>
    
    <div class="chart-notes">
        <div class="note-item">
            <span class="note-icon">⚖️</span>
            <span class="note-text">The calibration curve shows the relationship between predicted probabilities and observed frequencies. A perfectly calibrated model would follow the diagonal line.</span>
        </div>
    </div>
</div>