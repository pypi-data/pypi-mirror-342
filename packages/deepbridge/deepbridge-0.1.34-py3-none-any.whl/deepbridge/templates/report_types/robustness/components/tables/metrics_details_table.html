<div class="metrics-details-table-container">
    <div class="table-info">
        <p>This table provides detailed metrics for each model across different test conditions.</p>
    </div>

    <div class="table-wrapper">
        <table class="data-table metrics-details-table" id="metrics-details-table">
            <thead>
                <tr>
                    <th class="model-col">Model</th>
                    <th class="base-score-col">Base Score</th>
                    <th class="metric-col">Evaluation Metric</th>
                    <th class="robustness-score-col">Robustness Score</th>
                    <th class="worst-level-col">Worst Level</th>
                    <th class="worst-score-col">Worst Score</th>
                    <th class="iterations-col">Test Iterations</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table rows will be populated by JavaScript -->
                <tr class="loading-row">
                    <td colspan="7">
                        <div class="loading-indicator">Loading metrics data...</div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="metrics-breakdown">
        <h4>Advanced Metrics</h4>
        
        <div class="metrics-tabs">
            <button class="metric-tab active" data-tab="raw-metrics">Raw Perturbation</button>
            <button class="metric-tab" data-tab="quantile-metrics">Quantile Perturbation</button>
            <button class="metric-tab" data-tab="feature-metrics">Feature Metrics</button>
        </div>
        
        <div class="metrics-tab-content">
            <div id="raw-metrics" class="metric-content active">
                <table class="data-table advanced-metrics-table" id="raw-metrics-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Avg Impact</th>
                            <th>Max Impact</th>
                            <th>Impact Variance</th>
                            <th>Performance Stability</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div id="quantile-metrics" class="metric-content">
                <table class="data-table advanced-metrics-table" id="quantile-metrics-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Avg Impact</th>
                            <th>Max Impact</th>
                            <th>Impact Variance</th>
                            <th>Performance Stability</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div id="feature-metrics" class="metric-content">
                <table class="data-table advanced-metrics-table" id="feature-metrics-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Most Sensitive Feature</th>
                            <th>Sensitivity Score</th>
                            <th>Most Robust Feature</th>
                            <th>Robustness Score</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="table-notes">
        <div class="note-item">
            <span class="note-icon">ℹ️</span>
            <span class="note-text">
                <strong>Performance Stability</strong> indicates how consistently the model performs across different perturbation levels.
                Higher values indicate more predictable degradation.
            </span>
        </div>
    </div>
</div>